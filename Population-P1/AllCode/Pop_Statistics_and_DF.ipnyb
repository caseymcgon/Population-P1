{
 "cells": [
  {
   "cell_type": "code",
   "execution_count": 1,
   "metadata": {
    "collapsed": true
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Requirement already satisfied: wbdata in /opt/conda/lib/python3.8/site-packages (0.3.0)\n",
      "Requirement already satisfied: decorator>=4.0 in /opt/conda/lib/python3.8/site-packages (from wbdata) (4.4.2)\n",
      "Requirement already satisfied: appdirs<2.0,>=1.4 in /opt/conda/lib/python3.8/site-packages (from wbdata) (1.4.4)\n",
      "Requirement already satisfied: tabulate>=0.8.5 in /opt/conda/lib/python3.8/site-packages (from wbdata) (0.8.7)\n",
      "Requirement already satisfied: requests>=2.0 in /opt/conda/lib/python3.8/site-packages (from wbdata) (2.25.1)\n",
      "Requirement already satisfied: certifi>=2017.4.17 in /opt/conda/lib/python3.8/site-packages (from requests>=2.0->wbdata) (2019.11.28)\n",
      "Requirement already satisfied: urllib3<1.27,>=1.21.1 in /opt/conda/lib/python3.8/site-packages (from requests>=2.0->wbdata) (1.25.7)\n",
      "Requirement already satisfied: chardet<5,>=3.0.2 in /opt/conda/lib/python3.8/site-packages (from requests>=2.0->wbdata) (3.0.4)\n",
      "Requirement already satisfied: idna<3,>=2.5 in /opt/conda/lib/python3.8/site-packages (from requests>=2.0->wbdata) (2.8)\n",
      "Requirement already satisfied: cufflinks in /opt/conda/lib/python3.8/site-packages (0.17.3)\n",
      "Requirement already satisfied: ipython>=5.3.0 in /opt/conda/lib/python3.8/site-packages (from cufflinks) (7.20.0)\n",
      "Requirement already satisfied: setuptools>=34.4.1 in /opt/conda/lib/python3.8/site-packages (from cufflinks) (49.6.0.post20210108)\n",
      "Requirement already satisfied: six>=1.9.0 in /opt/conda/lib/python3.8/site-packages (from cufflinks) (1.15.0)\n",
      "Requirement already satisfied: plotly>=4.1.1 in /opt/conda/lib/python3.8/site-packages (from cufflinks) (4.14.3)\n",
      "Requirement already satisfied: colorlover>=0.2.1 in /opt/conda/lib/python3.8/site-packages (from cufflinks) (0.3.0)\n",
      "Requirement already satisfied: ipywidgets>=7.0.0 in /opt/conda/lib/python3.8/site-packages (from cufflinks) (7.6.3)\n",
      "Requirement already satisfied: numpy>=1.9.2 in /opt/conda/lib/python3.8/site-packages (from cufflinks) (1.19.5)\n",
      "Requirement already satisfied: pandas>=0.19.2 in /opt/conda/lib/python3.8/site-packages (from cufflinks) (1.2.0)\n",
      "Requirement already satisfied: pickleshare in /opt/conda/lib/python3.8/site-packages (from ipython>=5.3.0->cufflinks) (0.7.5)\n",
      "Requirement already satisfied: jedi>=0.16 in /opt/conda/lib/python3.8/site-packages (from ipython>=5.3.0->cufflinks) (0.18.0)\n",
      "Requirement already satisfied: pexpect>4.3; sys_platform != \"win32\" in /opt/conda/lib/python3.8/site-packages (from ipython>=5.3.0->cufflinks) (4.8.0)\n",
      "Requirement already satisfied: traitlets>=4.2 in /opt/conda/lib/python3.8/site-packages (from ipython>=5.3.0->cufflinks) (5.0.5)\n",
      "Requirement already satisfied: pygments in /opt/conda/lib/python3.8/site-packages (from ipython>=5.3.0->cufflinks) (2.7.4)\n",
      "Requirement already satisfied: prompt-toolkit!=3.0.0,!=3.0.1,<3.1.0,>=2.0.0 in /opt/conda/lib/python3.8/site-packages (from ipython>=5.3.0->cufflinks) (3.0.14)\n",
      "Requirement already satisfied: decorator in /opt/conda/lib/python3.8/site-packages (from ipython>=5.3.0->cufflinks) (4.4.2)\n",
      "Requirement already satisfied: backcall in /opt/conda/lib/python3.8/site-packages (from ipython>=5.3.0->cufflinks) (0.2.0)\n",
      "Requirement already satisfied: retrying>=1.3.3 in /opt/conda/lib/python3.8/site-packages (from plotly>=4.1.1->cufflinks) (1.3.3)\n",
      "Requirement already satisfied: ipykernel>=4.5.1 in /opt/conda/lib/python3.8/site-packages (from ipywidgets>=7.0.0->cufflinks) (5.4.3)\n",
      "Requirement already satisfied: widgetsnbextension~=3.5.0 in /opt/conda/lib/python3.8/site-packages (from ipywidgets>=7.0.0->cufflinks) (3.5.1)\n",
      "Requirement already satisfied: jupyterlab-widgets>=1.0.0; python_version >= \"3.6\" in /opt/conda/lib/python3.8/site-packages (from ipywidgets>=7.0.0->cufflinks) (1.0.0)\n",
      "Requirement already satisfied: nbformat>=4.2.0 in /opt/conda/lib/python3.8/site-packages (from ipywidgets>=7.0.0->cufflinks) (5.1.2)\n",
      "Requirement already satisfied: python-dateutil>=2.7.3 in /opt/conda/lib/python3.8/site-packages (from pandas>=0.19.2->cufflinks) (2.8.1)\n",
      "Requirement already satisfied: pytz>=2017.3 in /opt/conda/lib/python3.8/site-packages (from pandas>=0.19.2->cufflinks) (2020.5)\n",
      "Requirement already satisfied: parso<0.9.0,>=0.8.0 in /opt/conda/lib/python3.8/site-packages (from jedi>=0.16->ipython>=5.3.0->cufflinks) (0.8.1)\n",
      "Requirement already satisfied: ptyprocess>=0.5 in /opt/conda/lib/python3.8/site-packages (from pexpect>4.3; sys_platform != \"win32\"->ipython>=5.3.0->cufflinks) (0.7.0)\n",
      "Requirement already satisfied: ipython-genutils in /opt/conda/lib/python3.8/site-packages (from traitlets>=4.2->ipython>=5.3.0->cufflinks) (0.2.0)\n",
      "Requirement already satisfied: wcwidth in /opt/conda/lib/python3.8/site-packages (from prompt-toolkit!=3.0.0,!=3.0.1,<3.1.0,>=2.0.0->ipython>=5.3.0->cufflinks) (0.2.5)\n",
      "Requirement already satisfied: jupyter-client in /opt/conda/lib/python3.8/site-packages (from ipykernel>=4.5.1->ipywidgets>=7.0.0->cufflinks) (6.1.11)\n",
      "Requirement already satisfied: tornado>=4.2 in /opt/conda/lib/python3.8/site-packages (from ipykernel>=4.5.1->ipywidgets>=7.0.0->cufflinks) (6.1)\n",
      "Requirement already satisfied: notebook>=4.4.1 in /opt/conda/lib/python3.8/site-packages (from widgetsnbextension~=3.5.0->ipywidgets>=7.0.0->cufflinks) (7.0.0.dev0)\n",
      "Requirement already satisfied: jsonschema!=2.5.0,>=2.4 in /opt/conda/lib/python3.8/site-packages (from nbformat>=4.2.0->ipywidgets>=7.0.0->cufflinks) (3.2.0)\n",
      "Requirement already satisfied: jupyter-core in /opt/conda/lib/python3.8/site-packages (from nbformat>=4.2.0->ipywidgets>=7.0.0->cufflinks) (4.7.1)\n",
      "Requirement already satisfied: pyzmq>=13 in /opt/conda/lib/python3.8/site-packages (from jupyter-client->ipykernel>=4.5.1->ipywidgets>=7.0.0->cufflinks) (22.0.2)\n",
      "Requirement already satisfied: nbconvert in /opt/conda/lib/python3.8/site-packages (from notebook>=4.4.1->widgetsnbextension~=3.5.0->ipywidgets>=7.0.0->cufflinks) (6.0.8.dev0)\n",
      "Requirement already satisfied: jinja2 in /opt/conda/lib/python3.8/site-packages (from notebook>=4.4.1->widgetsnbextension~=3.5.0->ipywidgets>=7.0.0->cufflinks) (2.11.3)\n",
      "Requirement already satisfied: argon2-cffi in /opt/conda/lib/python3.8/site-packages (from notebook>=4.4.1->widgetsnbextension~=3.5.0->ipywidgets>=7.0.0->cufflinks) (20.1.0)\n",
      "Requirement already satisfied: prometheus-client in /opt/conda/lib/python3.8/site-packages (from notebook>=4.4.1->widgetsnbextension~=3.5.0->ipywidgets>=7.0.0->cufflinks) (0.9.0)\n",
      "Requirement already satisfied: Send2Trash in /opt/conda/lib/python3.8/site-packages (from notebook>=4.4.1->widgetsnbextension~=3.5.0->ipywidgets>=7.0.0->cufflinks) (1.5.0)\n",
      "Requirement already satisfied: terminado>=0.8.3 in /opt/conda/lib/python3.8/site-packages (from notebook>=4.4.1->widgetsnbextension~=3.5.0->ipywidgets>=7.0.0->cufflinks) (0.9.2)\n",
      "Requirement already satisfied: attrs>=17.4.0 in /opt/conda/lib/python3.8/site-packages (from jsonschema!=2.5.0,>=2.4->nbformat>=4.2.0->ipywidgets>=7.0.0->cufflinks) (19.3.0)\n",
      "Requirement already satisfied: pyrsistent>=0.14.0 in /opt/conda/lib/python3.8/site-packages (from jsonschema!=2.5.0,>=2.4->nbformat>=4.2.0->ipywidgets>=7.0.0->cufflinks) (0.17.3)\n",
      "Requirement already satisfied: nbclient<0.6.0,>=0.5.0 in /opt/conda/lib/python3.8/site-packages (from nbconvert->notebook>=4.4.1->widgetsnbextension~=3.5.0->ipywidgets>=7.0.0->cufflinks) (0.5.1)\n",
      "Requirement already satisfied: entrypoints>=0.2.2 in /opt/conda/lib/python3.8/site-packages (from nbconvert->notebook>=4.4.1->widgetsnbextension~=3.5.0->ipywidgets>=7.0.0->cufflinks) (0.3)\n",
      "Requirement already satisfied: mistune<2,>=0.8.1 in /opt/conda/lib/python3.8/site-packages (from nbconvert->notebook>=4.4.1->widgetsnbextension~=3.5.0->ipywidgets>=7.0.0->cufflinks) (0.8.4)\n",
      "Requirement already satisfied: bleach in /opt/conda/lib/python3.8/site-packages (from nbconvert->notebook>=4.4.1->widgetsnbextension~=3.5.0->ipywidgets>=7.0.0->cufflinks) (3.3.0)\n",
      "Requirement already satisfied: pandocfilters>=1.4.1 in /opt/conda/lib/python3.8/site-packages (from nbconvert->notebook>=4.4.1->widgetsnbextension~=3.5.0->ipywidgets>=7.0.0->cufflinks) (1.4.3)\n",
      "Requirement already satisfied: jupyterlab-pygments in /opt/conda/lib/python3.8/site-packages (from nbconvert->notebook>=4.4.1->widgetsnbextension~=3.5.0->ipywidgets>=7.0.0->cufflinks) (0.1.2)\n",
      "Requirement already satisfied: testpath in /opt/conda/lib/python3.8/site-packages (from nbconvert->notebook>=4.4.1->widgetsnbextension~=3.5.0->ipywidgets>=7.0.0->cufflinks) (0.4.4)\n",
      "Requirement already satisfied: defusedxml in /opt/conda/lib/python3.8/site-packages (from nbconvert->notebook>=4.4.1->widgetsnbextension~=3.5.0->ipywidgets>=7.0.0->cufflinks) (0.6.0)\n",
      "Requirement already satisfied: MarkupSafe>=0.23 in /opt/conda/lib/python3.8/site-packages (from jinja2->notebook>=4.4.1->widgetsnbextension~=3.5.0->ipywidgets>=7.0.0->cufflinks) (1.1.1)\r\n",
      "Requirement already satisfied: cffi>=1.0.0 in /opt/conda/lib/python3.8/site-packages (from argon2-cffi->notebook>=4.4.1->widgetsnbextension~=3.5.0->ipywidgets>=7.0.0->cufflinks) (1.14.4)\r\n",
      "Requirement already satisfied: async-generator in /opt/conda/lib/python3.8/site-packages (from nbclient<0.6.0,>=0.5.0->nbconvert->notebook>=4.4.1->widgetsnbextension~=3.5.0->ipywidgets>=7.0.0->cufflinks) (1.10)\r\n",
      "Requirement already satisfied: nest-asyncio in /opt/conda/lib/python3.8/site-packages (from nbclient<0.6.0,>=0.5.0->nbconvert->notebook>=4.4.1->widgetsnbextension~=3.5.0->ipywidgets>=7.0.0->cufflinks) (1.2.0)\r\n",
      "Requirement already satisfied: webencodings in /opt/conda/lib/python3.8/site-packages (from bleach->nbconvert->notebook>=4.4.1->widgetsnbextension~=3.5.0->ipywidgets>=7.0.0->cufflinks) (0.5.1)\r\n",
      "Requirement already satisfied: packaging in /opt/conda/lib/python3.8/site-packages (from bleach->nbconvert->notebook>=4.4.1->widgetsnbextension~=3.5.0->ipywidgets>=7.0.0->cufflinks) (20.9)\r\n",
      "Requirement already satisfied: pycparser in /opt/conda/lib/python3.8/site-packages (from cffi>=1.0.0->argon2-cffi->notebook>=4.4.1->widgetsnbextension~=3.5.0->ipywidgets>=7.0.0->cufflinks) (2.20)\r\n",
      "Requirement already satisfied: pyparsing>=2.0.2 in /opt/conda/lib/python3.8/site-packages (from packaging->bleach->nbconvert->notebook>=4.4.1->widgetsnbextension~=3.5.0->ipywidgets>=7.0.0->cufflinks) (2.4.7)\r\n"
     ]
    },
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "/opt/conda/lib/python3.8/site-packages/geopandas/_compat.py:84: UserWarning:\n",
      "\n",
      "The Shapely GEOS version (3.8.0-CAPI-1.13.1 ) is incompatible with the GEOS version PyGEOS was compiled with (3.9.0-CAPI-1.16.2). Conversions between both will be slow.\n",
      "\n",
      "Error importing optional module geopandas\n",
      "Traceback (most recent call last):\n",
      "  File \"/opt/conda/lib/python3.8/site-packages/_plotly_utils/optional_imports.py\", line 30, in get_module\n",
      "    return import_module(name)\n",
      "  File \"/opt/conda/lib/python3.8/importlib/__init__.py\", line 127, in import_module\n",
      "    return _bootstrap._gcd_import(name[level:], package, level)\n",
      "  File \"<frozen importlib._bootstrap>\", line 1014, in _gcd_import\n",
      "  File \"<frozen importlib._bootstrap>\", line 991, in _find_and_load\n",
      "  File \"<frozen importlib._bootstrap>\", line 975, in _find_and_load_unlocked\n",
      "  File \"<frozen importlib._bootstrap>\", line 671, in _load_unlocked\n",
      "  File \"<frozen importlib._bootstrap_external>\", line 783, in exec_module\n",
      "  File \"<frozen importlib._bootstrap>\", line 219, in _call_with_frames_removed\n",
      "  File \"/opt/conda/lib/python3.8/site-packages/geopandas/__init__.py\", line 3, in <module>\n",
      "    from geopandas.geoseries import GeoSeries  # noqa\n",
      "  File \"/opt/conda/lib/python3.8/site-packages/geopandas/geoseries.py\", line 12, in <module>\n",
      "    from geopandas.base import GeoPandasBase, _delegate_property\n",
      "  File \"/opt/conda/lib/python3.8/site-packages/geopandas/base.py\", line 13, in <module>\n",
      "    from .array import GeometryArray, GeometryDtype\n",
      "  File \"/opt/conda/lib/python3.8/site-packages/geopandas/array.py\", line 25, in <module>\n",
      "    from . import _vectorized as vectorized\n",
      "  File \"/opt/conda/lib/python3.8/site-packages/geopandas/_vectorized.py\", line 39, in <module>\n",
      "    type_mapping = {p.value: _names[p.name] for p in pygeos.GeometryType}\n",
      "  File \"/opt/conda/lib/python3.8/site-packages/geopandas/_vectorized.py\", line 39, in <dictcomp>\n",
      "    type_mapping = {p.value: _names[p.name] for p in pygeos.GeometryType}\n",
      "KeyError: 'MISSING'\n"
     ]
    }
   ],
   "source": [
    "!pip install wbdata\n",
    "import wbdata\n",
    "!pip install cufflinks\n",
    "import cufflinks as cf"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 2,
   "metadata": {},
   "outputs": [],
   "source": [
    "#A2 returns a dataframe of the given populations derived from wbdata\n",
    "def a2_df():\n",
    "    \"\"\"A function that returns a pandas DataFrame indexed by Region or Country and Year, \n",
    "    with columns giving counts of people in different age-sex groups.\n",
    "    \"\"\"\n",
    "    # Give variable for clarity\n",
    "    variable_labels = {\"SP.POP.TOTL\":\"Total Population\",\n",
    "                   \"SP.POP.TOTL.FE.IN\":\"Female Population\",\n",
    "                   \"SP.POP.TOTL.MA.IN\":\"Male Population\",\n",
    "                   \n",
    "                   \"SP.POP.0014.FE.IN\":\"Females (0-14)\",\n",
    "                   \"SP.POP.0014.MA.IN\":\"Males (0-14)\",\n",
    "                   \n",
    "                   \"SP.POP.1564.FE.IN\":\"Females (15-64)\",\n",
    "                   \"SP.POP.1564.MA.IN\":\"Males (15-64)\",\n",
    "\n",
    "                   \"SP.POP.65UP.FE.IN\":\"Females (65+)\", \n",
    "                   \"SP.POP.65UP.MA.IN\":\"Males (65+)\", \n",
    "                   \n",
    "                   \"SP.POP.0004.FE\":\"Females (0-4)\",\n",
    "                   \"SP.POP.0004.MA\":\"Males (0-4)\",\n",
    "                   \n",
    "                   \"SP.POP.0509.FE\":\"Females (5-9)\",\n",
    "                   \"SP.POP.0509.MA\":\"Males (5-9)\",\n",
    "                   \n",
    "                   \"SP.POP.1014.FE\":\"Females (10-14)\",\n",
    "                   \"SP.POP.1014.MA\":\"Males (10-14)\",\n",
    "                   \n",
    "                   \"SP.POP.1519.FE\":\"Females (15-19)\",\n",
    "                   \"SP.POP.1519.MA\":\"Males (15-19)\",\n",
    "                   \n",
    "                   \"SP.POP.2024.FE\":\"Females (20-24)\",\n",
    "                   \"SP.POP.2024.MA\":\"Males (20-24)\",\n",
    "                   \n",
    "                   \"SP.POP.2529.FE\":\"Females (25-29)\",\n",
    "                   \"SP.POP.2529.MA\":\"Males (25-29)\",\n",
    "                   \n",
    "                   \"SP.POP.3034.FE\":\"Females (30-34)\",\n",
    "                   \"SP.POP.3034.MA\":\"Males (30-34)\",\n",
    "                   \n",
    "                   \"SP.POP.3539.FE\":\"Females (35-39)\",\n",
    "                   \"SP.POP.3539.MA\":\"Males (35-39)\",\n",
    "                   \n",
    "                   \"SP.POP.4044.FE\":\"Females (40-44)\",\n",
    "                   \"SP.POP.4044.MA\":\"Males (40-44)\",\n",
    "                   \n",
    "                   \"SP.POP.4549.FE\":\"Females (45-49)\",\n",
    "                   \"SP.POP.4549.MA\":\"Males (45-49)\",\n",
    "                   \n",
    "                   \"SP.POP.5054.FE\":\"Females (50-54)\",\n",
    "                   \"SP.POP.5054.MA\":\"Males (50-54)\",\n",
    "                   \n",
    "                   \"SP.POP.5559.FE\":\"Females (55-59)\",\n",
    "                   \"SP.POP.5559.MA\":\"Males (55-59)\",\n",
    "                   \n",
    "                   \"SP.POP.6064.FE\":\"Females (60-64)\",\n",
    "                   \"SP.POP.6064.MA\":\"Males (60-64)\",\n",
    "                   \n",
    "                   \"SP.POP.6569.FE\":\"Females (65-69)\",\n",
    "                   \"SP.POP.6569.MA\":\"Males (65-69)\",\n",
    "                   \n",
    "                   \"SP.POP.7074.FE\":\"Females (70-74)\",\n",
    "                   \"SP.POP.7074.MA\":\"Males (70-74)\",\n",
    "                \n",
    "                   \"SP.POP.7579.FE\":\"Females (75-79)\",\n",
    "                   \"SP.POP.7579.MA\":\"Males (75-79)\",\n",
    "                   \n",
    "                   \"SP.POP.80UP.FE\":\"Females (80+)\",\n",
    "                   \"SP.POP.80UP.MA\":\"Males (80+)\" \n",
    "                   \n",
    "                  }\n",
    "\n",
    "    pop_df = wbdata.get_dataframe(variable_labels, country=\"\")\n",
    "\n",
    "    # Print a few years' data\n",
    "    return pop_df\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 3,
   "metadata": {
    "collapsed": true
   },
   "outputs": [
    {
     "ename": "KeyboardInterrupt",
     "evalue": "",
     "output_type": "error",
     "traceback": [
      "\u001b[0;31m---------------------------------------------------------------------------\u001b[0m",
      "\u001b[0;31mKeyboardInterrupt\u001b[0m                         Traceback (most recent call last)",
      "\u001b[0;32m<ipython-input-3-f49f1388b5cf>\u001b[0m in \u001b[0;36m<module>\u001b[0;34m\u001b[0m\n\u001b[0;32m----> 1\u001b[0;31m \u001b[0mpop_df\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0ma2_df\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m      2\u001b[0m \u001b[0mpop_df\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mhead\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n",
      "\u001b[0;32m<ipython-input-2-ed4a1ec5c1b3>\u001b[0m in \u001b[0;36ma2_df\u001b[0;34m()\u001b[0m\n\u001b[1;32m     71\u001b[0m                   }\n\u001b[1;32m     72\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m---> 73\u001b[0;31m     \u001b[0mpop_df\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mwbdata\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mget_dataframe\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mvariable_labels\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mcountry\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0;34m\"\"\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m     74\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m     75\u001b[0m     \u001b[0;31m# Print a few years' data\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n",
      "\u001b[0;32m<decorator-gen-118>\u001b[0m in \u001b[0;36mget_dataframe\u001b[0;34m(indicators, country, data_date, freq, source, convert_date, keep_levels, cache)\u001b[0m\n",
      "\u001b[0;32m/opt/conda/lib/python3.8/site-packages/wbdata/api.py\u001b[0m in \u001b[0;36muses_pandas\u001b[0;34m(f, *args, **kwargs)\u001b[0m\n\u001b[1;32m     83\u001b[0m     \u001b[0;32mif\u001b[0m \u001b[0;32mnot\u001b[0m \u001b[0mpd\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m     84\u001b[0m         \u001b[0;32mraise\u001b[0m \u001b[0mValueError\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m\"Pandas must be installed to be used\"\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m---> 85\u001b[0;31m     \u001b[0;32mreturn\u001b[0m \u001b[0mf\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m*\u001b[0m\u001b[0margs\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;34m**\u001b[0m\u001b[0mkwargs\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m     86\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m     87\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n",
      "\u001b[0;32m/opt/conda/lib/python3.8/site-packages/wbdata/api.py\u001b[0m in \u001b[0;36mget_dataframe\u001b[0;34m(indicators, country, data_date, freq, source, convert_date, keep_levels, cache)\u001b[0m\n\u001b[1;32m    480\u001b[0m     \u001b[0;34m:\u001b[0m\u001b[0mreturns\u001b[0m\u001b[0;34m:\u001b[0m \u001b[0ma\u001b[0m \u001b[0mWBDataFrame\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    481\u001b[0m     \"\"\"\n\u001b[0;32m--> 482\u001b[0;31m     serieses = [\n\u001b[0m\u001b[1;32m    483\u001b[0m         (\n\u001b[1;32m    484\u001b[0m             get_series(\n",
      "\u001b[0;32m/opt/conda/lib/python3.8/site-packages/wbdata/api.py\u001b[0m in \u001b[0;36m<listcomp>\u001b[0;34m(.0)\u001b[0m\n\u001b[1;32m    482\u001b[0m     serieses = [\n\u001b[1;32m    483\u001b[0m         (\n\u001b[0;32m--> 484\u001b[0;31m             get_series(\n\u001b[0m\u001b[1;32m    485\u001b[0m                 \u001b[0mindicator\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0mindicator\u001b[0m\u001b[0;34m,\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    486\u001b[0m                 \u001b[0mcountry\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0mcountry\u001b[0m\u001b[0;34m,\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n",
      "\u001b[0;32m/opt/conda/lib/python3.8/site-packages/wbdata/api.py\u001b[0m in \u001b[0;36mget_series\u001b[0;34m(indicator, country, data_date, freq, source, convert_date, column_name, keep_levels, cache)\u001b[0m\n\u001b[1;32m    184\u001b[0m     \u001b[0;34m:\u001b[0m\u001b[0mreturns\u001b[0m\u001b[0;34m:\u001b[0m \u001b[0mWBSeries\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    185\u001b[0m     \"\"\"\n\u001b[0;32m--> 186\u001b[0;31m     raw_data = get_data(\n\u001b[0m\u001b[1;32m    187\u001b[0m         \u001b[0mindicator\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0mindicator\u001b[0m\u001b[0;34m,\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    188\u001b[0m         \u001b[0mcountry\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0mcountry\u001b[0m\u001b[0;34m,\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n",
      "\u001b[0;32m/opt/conda/lib/python3.8/site-packages/wbdata/api.py\u001b[0m in \u001b[0;36mget_data\u001b[0;34m(indicator, country, data_date, freq, source, convert_date, pandas, column_name, keep_levels, cache)\u001b[0m\n\u001b[1;32m    287\u001b[0m     \u001b[0;32mif\u001b[0m \u001b[0msource\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    288\u001b[0m         \u001b[0margs\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;34m\"source\"\u001b[0m\u001b[0;34m]\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0msource\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m--> 289\u001b[0;31m     \u001b[0mdata\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mfetcher\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mfetch\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mquery_url\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0margs\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mcache\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0mcache\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m    290\u001b[0m     \u001b[0;32mif\u001b[0m \u001b[0mconvert_date\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    291\u001b[0m         \u001b[0mdata\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mconvert_dates_to_datetime\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mdata\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n",
      "\u001b[0;32m/opt/conda/lib/python3.8/site-packages/wbdata/fetcher.py\u001b[0m in \u001b[0;36mfetch\u001b[0;34m(url, args, cache)\u001b[0m\n\u001b[1;32m    120\u001b[0m     \u001b[0mpages\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mthis_page\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0;36m0\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;36m1\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    121\u001b[0m     \u001b[0;32mwhile\u001b[0m \u001b[0mpages\u001b[0m \u001b[0;34m!=\u001b[0m \u001b[0mthis_page\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m--> 122\u001b[0;31m         \u001b[0mresponse\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mget_response\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0murl\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0margs\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mcache\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0mcache\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m    123\u001b[0m         \u001b[0;32mtry\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    124\u001b[0m             \u001b[0mresults\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mextend\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mresponse\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;36m1\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n",
      "\u001b[0;32m/opt/conda/lib/python3.8/site-packages/wbdata/fetcher.py\u001b[0m in \u001b[0;36mget_response\u001b[0;34m(url, args, cache)\u001b[0m\n\u001b[1;32m     97\u001b[0m         \u001b[0mresponse\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mget_json_from_url\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0murl\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0margs\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m     98\u001b[0m         \u001b[0;32mif\u001b[0m \u001b[0mcache\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m---> 99\u001b[0;31m             \u001b[0mCACHE\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0mkey\u001b[0m\u001b[0;34m]\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mresponse\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m    100\u001b[0m     \u001b[0;32mreturn\u001b[0m \u001b[0mjson\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mloads\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mresponse\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    101\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n",
      "\u001b[0;32m/opt/conda/lib/python3.8/site-packages/wbdata/fetcher.py\u001b[0m in \u001b[0;36m__setitem__\u001b[0;34m(self, key, value)\u001b[0m\n\u001b[1;32m     51\u001b[0m     \u001b[0;32mdef\u001b[0m \u001b[0m__setitem__\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mself\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mkey\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mvalue\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m     52\u001b[0m         \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mcache\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0mkey\u001b[0m\u001b[0;34m]\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mTODAY\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mtoordinal\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mvalue\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m---> 53\u001b[0;31m         \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0msync\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m     54\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m     55\u001b[0m     \u001b[0;32mdef\u001b[0m \u001b[0m__contains__\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mself\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mitem\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n",
      "\u001b[0;32m/opt/conda/lib/python3.8/site-packages/wbdata/fetcher.py\u001b[0m in \u001b[0;36msync\u001b[0;34m(self)\u001b[0m\n\u001b[1;32m     59\u001b[0m         \u001b[0;34m\"\"\"Sync cache to disk\"\"\"\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m     60\u001b[0m         \u001b[0;32mwith\u001b[0m \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mpath\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mopen\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m\"wb\"\u001b[0m\u001b[0;34m)\u001b[0m \u001b[0;32mas\u001b[0m \u001b[0mcachefile\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m---> 61\u001b[0;31m             \u001b[0mpickle\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mdump\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mcache\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mcachefile\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m     62\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m     63\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n",
      "\u001b[0;31mKeyboardInterrupt\u001b[0m: "
     ]
    }
   ],
   "source": [
    "pop_df = a2_df()\n",
    "pop_df.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "#pandas manipulations example\n",
    "pop_df.loc['Philippines']"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 10,
   "metadata": {},
   "outputs": [],
   "source": [
    "#A1 population function\n",
    "def population(year, persons, age_range, location):\n",
    "    \"\"\"A python function named population that will deliver information to answer the queries\n",
    "    of the following form: In [year] how many [people/males/females] aged [low] to [high] were living in [the\n",
    "    world/region/country]?\n",
    "    \n",
    "    location (str): name of country, income level, world location, etc.\n",
    "    sex (str): a string FE (female), MA (male), or all\n",
    "    age_range (str): none, 0004 (Population ages 00-04), 0014 (Population ages 0-14), etc etc\n",
    "    \n",
    "    Returns a population from wbdata of a location given year, persons, and age range.\n",
    "    \"\"\"\n",
    "    assert age_range in {'none','0004','0014','0509','1014','1519','1564','2024','2529','3034','3539',\n",
    "                        '4044','4549','5054','5559','6064','6569','65UP','7074','7579','80UP'}, \"Age range not supported in wbdata.\"\n",
    "    if age_range == 'none':\n",
    "        if persons == 'FE':\n",
    "            variables = {'SP.POP.TOTL.FE.IN':'Pop'}\n",
    "        elif persons == 'MA':\n",
    "            variables = {'SP.POP.TOTL.MA.IN':'Pop'}\n",
    "        else:\n",
    "            variables = {'SP.POP.TOTL':'Pop'}\n",
    "\n",
    "    if age_range == '0004':\n",
    "        if persons == 'FE':\n",
    "            variables = {'SP.POP.0004.FE' : 'Pop'}\n",
    "        elif persons == 'MA':\n",
    "            variables = {'SP.POP.0004.MA' : 'Pop'}\n",
    "        \n",
    "    if age_range == '0014':\n",
    "        if persons == 'FE':\n",
    "            variables = {'SP.POP.0014.FE' : 'Pop'}\n",
    "        elif persons == 'MA':\n",
    "            variables = {'SP.POP.0014.MA' : 'Pop'}\n",
    "        \n",
    "    if age_range == '0509':\n",
    "        if persons == 'FE':\n",
    "            variables = {'SP.POP.0509.FE' : 'Pop'}\n",
    "        elif persons == 'MA':\n",
    "            variables = {'SP.POP.0509.MA' : 'Pop'}\n",
    "        \n",
    "    if age_range == '1014':\n",
    "        if persons == 'FE':\n",
    "            variables = {'SP.POP.1014.FE' : 'Pop'}\n",
    "        elif persons == 'MA':\n",
    "            variables = {'SP.POP.1014.MA' : 'Pop'}\n",
    "        \n",
    "    if age_range == '1519':\n",
    "        if persons == 'FE':\n",
    "            variables = {'SP.POP.1519.FE' : 'Pop'}\n",
    "        elif persons == 'MA':\n",
    "            variables = {'SP.POP.1519.MA' : 'Pop'}\n",
    "\n",
    "    if age_range == '1564':\n",
    "        if persons == 'FE':\n",
    "            variables = {'SP.POP.1564.FE' : 'Pop'}\n",
    "        elif persons == 'MA':\n",
    "            variables = {'SP.POP.1564.MA': 'Pop'}\n",
    "        \n",
    "    if age_range == '2024':\n",
    "        if persons == 'FE':\n",
    "            variables = {'SP.POP.2024.FE' : 'Pop'}\n",
    "        elif persons == 'MA':\n",
    "            variables = {'SP.POP.2024.MA' : 'Pop'}\n",
    "        \n",
    "    if age_range == '2529':\n",
    "        if persons == 'FE':\n",
    "            variables = {'SP.POP.2529.FE' : 'Pop'}\n",
    "        elif persons == 'MA':\n",
    "            variables = {'SP.POP.2529.MA' : 'Pop'}\n",
    "        \n",
    "    if age_range == '3034':\n",
    "        if persons == 'FE':\n",
    "            variables = {'SP.POP.3034.FE' : 'Pop'}\n",
    "        elif persons == 'MA':\n",
    "            variables = {'SP.POP.3034.MA' : 'Pop'}\n",
    "        \n",
    "    if age_range == '3539':\n",
    "        if persons == 'FE':\n",
    "            variables = {'SP.POP.3539.FE' : 'Pop'}\n",
    "        elif persons == 'MA':\n",
    "            variables = {'SP.POP.3539.MA' : 'Pop'}\n",
    "        \n",
    "    if age_range == '4044':\n",
    "        if persons == 'FE':\n",
    "            variables = {'SP.POP.4044.FE' : 'Pop'}\n",
    "        elif persons == 'MA':\n",
    "            variables = {'SP.POP.4044.MA' : 'Pop'}\n",
    "        \n",
    "    if age_range == '4549':\n",
    "        if persons == 'FE':\n",
    "            variables = {'SP.POP.4549.FE' : 'Pop'}\n",
    "        elif persons == 'MA':\n",
    "            variables = {'SP.POP.4549.MA' : 'Pop'}\n",
    "        \n",
    "    if age_range == '5054':\n",
    "        if persons == 'FE':\n",
    "            variables = {'SP.POP.5054.FE' : 'Pop'}\n",
    "        elif persons == 'MA':\n",
    "            variables = {'SP.POP.5054.MA' : 'Pop'}\n",
    "        \n",
    "    if age_range == '5559':\n",
    "        if persons == 'FE':\n",
    "            variables = {'SP.POP.5559.FE' : 'Pop'}\n",
    "        elif persons == 'MA':\n",
    "            variables = {'SP.POP.5559.MA' : 'Pop'}\n",
    "        \n",
    "    if age_range == '6064':\n",
    "        if persons == 'FE':\n",
    "            variables = {'SP.POP.6064.FE' : 'Pop'}\n",
    "        elif persons == 'MA':\n",
    "            variables = {'SP.POP.6064.MA' : 'Pop'}\n",
    "        \n",
    "    if age_range == '6569':\n",
    "        if persons == 'FE':\n",
    "            variables = {'SP.POP.6569.FE' : 'Pop'}\n",
    "        elif persons == 'MA':\n",
    "            variables = {'SP.POP.6569.MA' : 'Pop'}\n",
    "        \n",
    "    if age_range == '65UP':\n",
    "        if persons == 'FE':\n",
    "            variables = {'SP.POP.65UP.FE' : 'Pop'}\n",
    "        elif persons == 'MA':\n",
    "            variables = {'SP.POP.65UP.MA' : 'Pop'}\n",
    "        \n",
    "    if age_range == '7074':\n",
    "        if persons == 'FE':\n",
    "            variables = {'SP.POP.7074.FE' : 'Pop'}\n",
    "        elif persons == 'MA':\n",
    "            variables = {'SP.POP.7074.MA' : 'Pop'}\n",
    "        \n",
    "    if age_range == '7579':\n",
    "        if persons == 'FE':\n",
    "            variables = {'SP.POP.7579.FE' : 'Pop'}\n",
    "        elif persons == 'MA':\n",
    "            variables = {'SP.POP.7579.MA' : 'Pop'}\n",
    "        \n",
    "    if age_range == '80UP':\n",
    "        if persons == 'FE':\n",
    "            variables = {'SP.POP.80UP.FE' : 'Pop'}\n",
    "        elif persons == 'MA':\n",
    "            variables = {'SP.POP.80UP.MA' : 'Pop'}\n",
    "        \n",
    "    #Converts location parameter to a wbdata 3 letter id\n",
    "    name_dict = dict()\n",
    "    for i in range(len(wbdata.search_countries(\"\"))):\n",
    "        id = wbdata.search_countries(\"\")[i][\"id\"]\n",
    "        country = wbdata.search_countries(\"\")[i][\"name\"]\n",
    "        name_dict[country] = id\n",
    "\n",
    "    countries = {name_dict.get(location)}\n",
    "    df = wbdata.get_dataframe(variables, country=countries)\n",
    "    \n",
    "    return df.loc[year][0]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "population('2017', 'MA','2529','Azerbaijan') / population('2017', 'all', 'none', 'Azerbaijan')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "population('1998', 'FE', 'none', 'Philippines') "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 12,
   "metadata": {},
   "outputs": [
    {
     "ename": "AssertionError",
     "evalue": "Age range not supported in wbdata.",
     "output_type": "error",
     "traceback": [
      "\u001b[0;31m---------------------------------------------------------------------------\u001b[0m",
      "\u001b[0;31mAssertionError\u001b[0m                            Traceback (most recent call last)",
      "\u001b[0;32m<ipython-input-12-21936d1c82ec>\u001b[0m in \u001b[0;36m<module>\u001b[0;34m\u001b[0m\n\u001b[1;32m      1\u001b[0m \u001b[0;31m#AssertError example\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m----> 2\u001b[0;31m \u001b[0mpopulation\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m'1998'\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;34m'FE'\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;34m'1923'\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;34m'Philippines'\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m",
      "\u001b[0;32m<ipython-input-10-afa6bcf456e5>\u001b[0m in \u001b[0;36mpopulation\u001b[0;34m(year, persons, age_range, location)\u001b[0m\n\u001b[1;32m     11\u001b[0m     \u001b[0mReturns\u001b[0m \u001b[0ma\u001b[0m \u001b[0mpopulation\u001b[0m \u001b[0;32mfrom\u001b[0m \u001b[0mwbdata\u001b[0m \u001b[0mof\u001b[0m \u001b[0ma\u001b[0m \u001b[0mlocation\u001b[0m \u001b[0mgiven\u001b[0m \u001b[0myear\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mpersons\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;32mand\u001b[0m \u001b[0mage\u001b[0m \u001b[0mrange\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m     12\u001b[0m     \"\"\"\n\u001b[0;32m---> 13\u001b[0;31m     assert age_range in {'none','0004','0014','0509','1014','1519','1564','2024','2529','3034','3539',\n\u001b[0m\u001b[1;32m     14\u001b[0m                         '4044','4549','5054','5559','6064','6569','65UP','7074','7579','80UP'}, \"Age range not supported in wbdata.\"\n\u001b[1;32m     15\u001b[0m     \u001b[0;32mif\u001b[0m \u001b[0mage_range\u001b[0m \u001b[0;34m==\u001b[0m \u001b[0;34m'none'\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n",
      "\u001b[0;31mAssertionError\u001b[0m: Age range not supported in wbdata."
     ]
    }
   ],
   "source": [
    "#AssertError example\n",
    "population('1998', 'FE', '1923', 'Philippines')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  }
 ],
 "metadata": {
  "history": [
   {
    "code": "import wbdata, import cufflinks as cf",
    "id": "f35b1a33b1474ee7ac4effae04610da1",
    "idx": 0,
    "time": "2021-01-25T23:08:12.395Z",
    "type": "execution"
   },
   {
    "id": "f35b1a33b1474ee7ac4effae04610da1",
    "time": "2021-01-25T23:08:12.499Z",
    "type": "completion"
   },
   {
    "code": "import wbdata, cufflinks as cf",
    "id": "f35b1a33b1474ee7ac4effae04610da1",
    "idx": 0,
    "time": "2021-01-25T23:08:20.049Z",
    "type": "execution"
   },
   {
    "id": "f35b1a33b1474ee7ac4effae04610da1",
    "time": "2021-01-25T23:08:22.022Z",
    "type": "completion"
   },
   {
    "code": "import wbdata\nimport cufflinks as cf",
    "id": "f35b1a33b1474ee7ac4effae04610da1",
    "idx": 0,
    "time": "2021-01-25T23:08:29.959Z",
    "type": "execution"
   },
   {
    "id": "f35b1a33b1474ee7ac4effae04610da1",
    "time": "2021-01-25T23:08:30.046Z",
    "type": "completion"
   },
   {
    "code": "SOURCE = 40 # \"Population estimates and projections\nindicators = wbdata.get_indicator(source=SOURCE)",
    "id": "0f4e77ba0a0c4f3d925f75b7c39fb948",
    "idx": 2,
    "time": "2021-01-25T23:46:54.738Z",
    "type": "execution"
   },
   {
    "id": "0f4e77ba0a0c4f3d925f75b7c39fb948",
    "time": "2021-01-25T23:46:54.833Z",
    "type": "completion"
   },
   {
    "code": "df = wbdata.get_dataframe(variable_labels, country = countries)",
    "id": "342b275b3ab043938c8130b593a433de",
    "idx": 3,
    "time": "2021-01-25T23:46:58.163Z",
    "type": "execution"
   },
   {
    "id": "342b275b3ab043938c8130b593a433de",
    "time": "2021-01-25T23:46:58.410Z",
    "type": "completion"
   },
   {
    "code": "df = wbdata.get_dataframe()",
    "id": "342b275b3ab043938c8130b593a433de",
    "idx": 3,
    "time": "2021-01-25T23:47:09.424Z",
    "type": "execution"
   },
   {
    "id": "342b275b3ab043938c8130b593a433de",
    "time": "2021-01-25T23:47:09.541Z",
    "type": "completion"
   },
   {
    "code": "df = wbdata.get_dataframe(indicators= indicators)",
    "id": "342b275b3ab043938c8130b593a433de",
    "idx": 3,
    "time": "2021-01-25T23:47:21.115Z",
    "type": "execution"
   },
   {
    "id": "342b275b3ab043938c8130b593a433de",
    "time": "2021-01-25T23:47:21.248Z",
    "type": "completion"
   },
   {
    "code": "wbdata.search_countries",
    "id": "90e0d7bd124043d286303f6fa0d85a58",
    "idx": 3,
    "time": "2021-01-25T23:54:22.433Z",
    "type": "execution"
   },
   {
    "id": "90e0d7bd124043d286303f6fa0d85a58",
    "time": "2021-01-25T23:54:22.542Z",
    "type": "completion"
   },
   {
    "code": "wbdata.search_countries('Philippines')",
    "id": "90e0d7bd124043d286303f6fa0d85a58",
    "idx": 3,
    "time": "2021-01-25T23:55:34.360Z",
    "type": "execution"
   },
   {
    "id": "90e0d7bd124043d286303f6fa0d85a58",
    "time": "2021-01-25T23:55:34.461Z",
    "type": "completion"
   },
   {
    "code": "type(wbdata.search_countries('Philippines'))",
    "id": "90e0d7bd124043d286303f6fa0d85a58",
    "idx": 3,
    "time": "2021-01-25T23:55:52.722Z",
    "type": "execution"
   },
   {
    "id": "90e0d7bd124043d286303f6fa0d85a58",
    "time": "2021-01-25T23:55:52.821Z",
    "type": "completion"
   },
   {
    "code": "wbdata.search_countries('Philippines')",
    "id": "90e0d7bd124043d286303f6fa0d85a58",
    "idx": 3,
    "time": "2021-01-25T23:55:58.315Z",
    "type": "execution"
   },
   {
    "id": "90e0d7bd124043d286303f6fa0d85a58",
    "time": "2021-01-25T23:55:58.422Z",
    "type": "completion"
   },
   {
    "code": "wbdata.search_countries('Philippines')[0]",
    "id": "90e0d7bd124043d286303f6fa0d85a58",
    "idx": 3,
    "time": "2021-01-25T23:56:02.983Z",
    "type": "execution"
   },
   {
    "id": "90e0d7bd124043d286303f6fa0d85a58",
    "time": "2021-01-25T23:56:03.081Z",
    "type": "completion"
   },
   {
    "code": "wbdata.search_countries('Philippines')[0][0]",
    "id": "90e0d7bd124043d286303f6fa0d85a58",
    "idx": 3,
    "time": "2021-01-25T23:56:10.279Z",
    "type": "execution"
   },
   {
    "id": "90e0d7bd124043d286303f6fa0d85a58",
    "time": "2021-01-25T23:56:10.407Z",
    "type": "completion"
   },
   {
    "code": "wbdata.search_countries('Philippines')[0][1]",
    "id": "90e0d7bd124043d286303f6fa0d85a58",
    "idx": 3,
    "time": "2021-01-25T23:56:16.401Z",
    "type": "execution"
   },
   {
    "id": "90e0d7bd124043d286303f6fa0d85a58",
    "time": "2021-01-25T23:56:16.503Z",
    "type": "completion"
   },
   {
    "code": "wbdata.search_countries('Philippines')[0]",
    "id": "90e0d7bd124043d286303f6fa0d85a58",
    "idx": 3,
    "time": "2021-01-25T23:56:19.795Z",
    "type": "execution"
   },
   {
    "id": "90e0d7bd124043d286303f6fa0d85a58",
    "time": "2021-01-25T23:56:19.900Z",
    "type": "completion"
   },
   {
    "code": "wbdata.search_countries('Philippines')['id']",
    "id": "90e0d7bd124043d286303f6fa0d85a58",
    "idx": 3,
    "time": "2021-01-25T23:56:28.578Z",
    "type": "execution"
   },
   {
    "id": "90e0d7bd124043d286303f6fa0d85a58",
    "time": "2021-01-25T23:56:28.686Z",
    "type": "completion"
   },
   {
    "code": "wbdata.search_countries('Philippines')[1]",
    "id": "90e0d7bd124043d286303f6fa0d85a58",
    "idx": 3,
    "time": "2021-01-25T23:56:36.999Z",
    "type": "execution"
   },
   {
    "id": "90e0d7bd124043d286303f6fa0d85a58",
    "time": "2021-01-25T23:56:37.109Z",
    "type": "completion"
   },
   {
    "code": "wbdata.search_countries('Philippines')[0]",
    "id": "90e0d7bd124043d286303f6fa0d85a58",
    "idx": 3,
    "time": "2021-01-25T23:56:40.990Z",
    "type": "execution"
   },
   {
    "id": "90e0d7bd124043d286303f6fa0d85a58",
    "time": "2021-01-25T23:56:41.086Z",
    "type": "completion"
   },
   {
    "code": "wbdata.search_countries('Philippines')",
    "id": "90e0d7bd124043d286303f6fa0d85a58",
    "idx": 3,
    "time": "2021-01-25T23:57:04.965Z",
    "type": "execution"
   },
   {
    "id": "90e0d7bd124043d286303f6fa0d85a58",
    "time": "2021-01-25T23:57:05.063Z",
    "type": "completion"
   },
   {
    "code": "name_dict = dict()\nfor i in range(len(wbdata.search_countries(\"\"))):\n    id = wbdata.search_countries(\"\")[i][\"id\"]\n    country = wbdata.search_countries(\"\")[i][\"name\"]\n    name_dict[country] = id",
    "id": "0c6837721e1c41bd87532bd9860d5bcc",
    "idx": 3,
    "time": "2021-01-26T00:16:17.901Z",
    "type": "execution"
   },
   {
    "id": "0c6837721e1c41bd87532bd9860d5bcc",
    "time": "2021-01-26T00:16:19.127Z",
    "type": "completion"
   },
   {
    "code": "name_dict = dict()\nfor i in range(len(wbdata.search_countries(\"\"))):\n    id = wbdata.search_countries(\"\")[i][\"id\"]\n    country = wbdata.search_countries(\"\")[i][\"name\"]\n    name_dict[country] = id\nname_dict",
    "id": "0c6837721e1c41bd87532bd9860d5bcc",
    "idx": 3,
    "time": "2021-01-26T00:16:26.750Z",
    "type": "execution"
   },
   {
    "id": "0c6837721e1c41bd87532bd9860d5bcc",
    "time": "2021-01-26T00:16:28.111Z",
    "type": "completion"
   },
   {
    "code": "variables = SP.POP.TOTL    \ndf = wbdata.get_dataframe(variables, country=PHL)\ndf",
    "id": "0dfcbe9d9561418883c71f5b21988f26",
    "idx": 4,
    "time": "2021-01-26T00:25:17.858Z",
    "type": "execution"
   },
   {
    "id": "0dfcbe9d9561418883c71f5b21988f26",
    "time": "2021-01-26T00:25:17.968Z",
    "type": "completion"
   },
   {
    "code": "variables = SP.POP.TOTL   \ndf = wbdata.get_dataframe(variables, country=PHL)\ndf",
    "id": "0dfcbe9d9561418883c71f5b21988f26",
    "idx": 4,
    "time": "2021-01-26T00:28:48.342Z",
    "type": "execution"
   },
   {
    "id": "0dfcbe9d9561418883c71f5b21988f26",
    "time": "2021-01-26T00:28:48.445Z",
    "type": "completion"
   },
   {
    "code": "variables = {\"SP.POP.TOTL\"}\ndf = wbdata.get_dataframe(variables, country=PHL)\ndf",
    "id": "0dfcbe9d9561418883c71f5b21988f26",
    "idx": 4,
    "time": "2021-01-26T00:30:12.389Z",
    "type": "execution"
   },
   {
    "id": "0dfcbe9d9561418883c71f5b21988f26",
    "time": "2021-01-26T00:30:12.490Z",
    "type": "completion"
   },
   {
    "code": "variables = {\"SP.POP.TOTL\"}\ndf = wbdata.get_dataframe(variables, country='PHL')\ndf",
    "id": "0dfcbe9d9561418883c71f5b21988f26",
    "idx": 4,
    "time": "2021-01-26T00:30:17.915Z",
    "type": "execution"
   },
   {
    "id": "0dfcbe9d9561418883c71f5b21988f26",
    "time": "2021-01-26T00:30:18.070Z",
    "type": "completion"
   },
   {
    "code": "variables = {\"SP.POP.TOTL\"}\ncountries = {'PHL'}\ndf = wbdata.get_dataframe(variables, country=countries)\ndf",
    "id": "0dfcbe9d9561418883c71f5b21988f26",
    "idx": 4,
    "time": "2021-01-26T00:30:42.590Z",
    "type": "execution"
   },
   {
    "id": "0dfcbe9d9561418883c71f5b21988f26",
    "time": "2021-01-26T00:30:42.829Z",
    "type": "completion"
   },
   {
    "code": "variables = {\"SP.POP.TOTL\":'Pop'}\ncountries = {'PHL':'country'}\ndf = wbdata.get_dataframe(variables, country=countries)\ndf",
    "id": "0dfcbe9d9561418883c71f5b21988f26",
    "idx": 4,
    "time": "2021-01-26T00:32:11.865Z",
    "type": "execution"
   },
   {
    "id": "0dfcbe9d9561418883c71f5b21988f26",
    "time": "2021-01-26T00:32:12.375Z",
    "type": "completion"
   },
   {
    "code": "variables = {\"SP.POP.TOTL\":'Pop'}\ncountries = {'PHL':'country'}\ndf = wbdata.get_dataframe(variables, country=countries)\ndf.squeeze()",
    "id": "0dfcbe9d9561418883c71f5b21988f26",
    "idx": 4,
    "time": "2021-01-26T00:34:16.475Z",
    "type": "execution"
   },
   {
    "id": "0dfcbe9d9561418883c71f5b21988f26",
    "time": "2021-01-26T00:34:16.572Z",
    "type": "completion"
   },
   {
    "code": "variables = {\"SP.POP.TOTL\":'Pop'}\ncountries = {'PHL'}\ndf = wbdata.get_dataframe(variables, country=countries)\ndf.squeeze()",
    "id": "0dfcbe9d9561418883c71f5b21988f26",
    "idx": 4,
    "time": "2021-01-26T00:35:40.421Z",
    "type": "execution"
   },
   {
    "id": "0dfcbe9d9561418883c71f5b21988f26",
    "time": "2021-01-26T00:35:40.571Z",
    "type": "completion"
   },
   {
    "code": "variables = {\"SP.POP.TOTL\"}\ncountries = {'PHL'}\ndf = wbdata.get_dataframe(variables, country=countries)\ndf.squeeze()",
    "id": "0dfcbe9d9561418883c71f5b21988f26",
    "idx": 4,
    "time": "2021-01-26T00:35:48.918Z",
    "type": "execution"
   },
   {
    "id": "0dfcbe9d9561418883c71f5b21988f26",
    "time": "2021-01-26T00:35:49.101Z",
    "type": "completion"
   },
   {
    "code": "variables = {\"SP.POP.TOTL\":'Population'}\ncountries = {'PHL'}\ndf = wbdata.get_dataframe(variables, country=countries)\ndf.squeeze()",
    "id": "0dfcbe9d9561418883c71f5b21988f26",
    "idx": 4,
    "time": "2021-01-26T00:35:59.099Z",
    "type": "execution"
   },
   {
    "id": "0dfcbe9d9561418883c71f5b21988f26",
    "time": "2021-01-26T00:35:59.193Z",
    "type": "completion"
   },
   {
    "code": "wbdata.search_countries('South Korea')",
    "id": "3bf24e6fee9d45198496a3275fdf68e7",
    "idx": 5,
    "time": "2021-01-26T00:36:15.857Z",
    "type": "execution"
   },
   {
    "id": "3bf24e6fee9d45198496a3275fdf68e7",
    "time": "2021-01-26T00:36:15.973Z",
    "type": "completion"
   },
   {
    "code": "wbdata.search_countries('Korea')",
    "id": "3bf24e6fee9d45198496a3275fdf68e7",
    "idx": 5,
    "time": "2021-01-26T00:36:19.763Z",
    "type": "execution"
   },
   {
    "id": "3bf24e6fee9d45198496a3275fdf68e7",
    "time": "2021-01-26T00:36:19.853Z",
    "type": "completion"
   },
   {
    "code": "variables = {\"SP.POP.TOTL\":'Population'}\ncountries = {'KOR'}\ndf = wbdata.get_dataframe(variables, country=countries)\ndf.squeeze()",
    "id": "0dfcbe9d9561418883c71f5b21988f26",
    "idx": 4,
    "time": "2021-01-26T00:36:39.187Z",
    "type": "execution"
   },
   {
    "id": "0dfcbe9d9561418883c71f5b21988f26",
    "time": "2021-01-26T00:36:39.821Z",
    "type": "completion"
   },
   {
    "code": "name_dict = dict()\nfor i in range(len(wbdata.search_countries(\"\"))):\n    id = wbdata.search_countries(\"\")[i][\"id\"]\n    country = wbdata.search_countries(\"\")[i][\"name\"]\n    name_dict[country] = id\nname_dict('Aruba')",
    "id": "0c6837721e1c41bd87532bd9860d5bcc",
    "idx": 3,
    "time": "2021-01-26T00:40:10.984Z",
    "type": "execution"
   },
   {
    "id": "0c6837721e1c41bd87532bd9860d5bcc",
    "time": "2021-01-26T00:40:12.203Z",
    "type": "completion"
   },
   {
    "code": "name_dict = dict()\nfor i in range(len(wbdata.search_countries(\"\"))):\n    id = wbdata.search_countries(\"\")[i][\"id\"]\n    country = wbdata.search_countries(\"\")[i][\"name\"]\n    name_dict[country] = id\nname_dict.get('Philippines')",
    "id": "0c6837721e1c41bd87532bd9860d5bcc",
    "idx": 3,
    "time": "2021-01-26T00:41:15.431Z",
    "type": "execution"
   },
   {
    "id": "0c6837721e1c41bd87532bd9860d5bcc",
    "time": "2021-01-26T00:41:16.717Z",
    "type": "completion"
   },
   {
    "code": "variables = {\"SP.POP.TOTL\":'Population'}\ncountries = {name_dict.get('Philippines')}\ndf = wbdata.get_dataframe(variables, country=countries)\ndf.squeeze()",
    "id": "0dfcbe9d9561418883c71f5b21988f26",
    "idx": 5,
    "time": "2021-01-26T00:42:04.845Z",
    "type": "execution"
   },
   {
    "id": "0dfcbe9d9561418883c71f5b21988f26",
    "time": "2021-01-26T00:42:04.948Z",
    "type": "completion"
   },
   {
    "code": "df['date'=='2018']",
    "id": "e3eaa761ef16448fa657de8207ac6c18",
    "idx": 6,
    "time": "2021-01-26T00:43:19.130Z",
    "type": "execution"
   },
   {
    "id": "e3eaa761ef16448fa657de8207ac6c18",
    "time": "2021-01-26T00:43:19.321Z",
    "type": "completion"
   },
   {
    "code": "df[df['date'=='2018']]",
    "id": "e3eaa761ef16448fa657de8207ac6c18",
    "idx": 6,
    "time": "2021-01-26T00:43:33.069Z",
    "type": "execution"
   },
   {
    "id": "e3eaa761ef16448fa657de8207ac6c18",
    "time": "2021-01-26T00:43:33.234Z",
    "type": "completion"
   },
   {
    "code": "df[df[date=='2018']]",
    "id": "e3eaa761ef16448fa657de8207ac6c18",
    "idx": 6,
    "time": "2021-01-26T00:43:44.276Z",
    "type": "execution"
   },
   {
    "id": "e3eaa761ef16448fa657de8207ac6c18",
    "time": "2021-01-26T00:43:44.378Z",
    "type": "completion"
   },
   {
    "code": "df[df['date'==2018]]",
    "id": "e3eaa761ef16448fa657de8207ac6c18",
    "idx": 6,
    "time": "2021-01-26T00:43:52.920Z",
    "type": "execution"
   },
   {
    "id": "e3eaa761ef16448fa657de8207ac6c18",
    "time": "2021-01-26T00:43:53.083Z",
    "type": "completion"
   },
   {
    "code": "df[df['date'=2018]]",
    "id": "e3eaa761ef16448fa657de8207ac6c18",
    "idx": 6,
    "time": "2021-01-26T00:44:15.569Z",
    "type": "execution"
   },
   {
    "id": "e3eaa761ef16448fa657de8207ac6c18",
    "time": "2021-01-26T00:44:15.675Z",
    "type": "completion"
   },
   {
    "code": "df[df['date'=='2018']]",
    "id": "e3eaa761ef16448fa657de8207ac6c18",
    "idx": 6,
    "time": "2021-01-26T00:44:25.259Z",
    "type": "execution"
   },
   {
    "id": "e3eaa761ef16448fa657de8207ac6c18",
    "time": "2021-01-26T00:44:25.420Z",
    "type": "completion"
   },
   {
    "code": "variables = {\"SP.POP.TOTL\":'Population'}\ncountries = {name_dict.get('Philippines')}\ndf = wbdata.get_dataframe(variables, country=countries, convert_date=False)\ndf.squeeze()",
    "id": "0dfcbe9d9561418883c71f5b21988f26",
    "idx": 5,
    "time": "2021-01-26T00:44:47.059Z",
    "type": "execution"
   },
   {
    "id": "0dfcbe9d9561418883c71f5b21988f26",
    "time": "2021-01-26T00:44:47.173Z",
    "type": "completion"
   },
   {
    "code": "df[df['date'=='2018']]",
    "id": "e3eaa761ef16448fa657de8207ac6c18",
    "idx": 6,
    "time": "2021-01-26T00:44:49.296Z",
    "type": "execution"
   },
   {
    "id": "e3eaa761ef16448fa657de8207ac6c18",
    "time": "2021-01-26T00:44:49.453Z",
    "type": "completion"
   },
   {
    "code": "variables = {\"SP.POP.TOTL\":'Population'}\ncountries = {name_dict.get('Philippines')}\ndf = wbdata.get_dataframe(variables, country=countries, convert_date=False)\ntype(df.squeeze())",
    "id": "0dfcbe9d9561418883c71f5b21988f26",
    "idx": 5,
    "time": "2021-01-26T00:44:58.509Z",
    "type": "execution"
   },
   {
    "id": "0dfcbe9d9561418883c71f5b21988f26",
    "time": "2021-01-26T00:44:58.604Z",
    "type": "completion"
   },
   {
    "code": "variables = {\"SP.POP.TOTL\":'Population'}\ncountries = {name_dict.get('Philippines')}\ndf = wbdata.get_dataframe(variables, country=countries, convert_date=False)\ndf.squeeze()",
    "id": "0dfcbe9d9561418883c71f5b21988f26",
    "idx": 5,
    "time": "2021-01-26T00:45:04.041Z",
    "type": "execution"
   },
   {
    "id": "0dfcbe9d9561418883c71f5b21988f26",
    "time": "2021-01-26T00:45:04.141Z",
    "type": "completion"
   },
   {
    "code": "df[df['date'==2018]]",
    "id": "e3eaa761ef16448fa657de8207ac6c18",
    "idx": 6,
    "time": "2021-01-26T00:45:19.933Z",
    "type": "execution"
   },
   {
    "id": "e3eaa761ef16448fa657de8207ac6c18",
    "time": "2021-01-26T00:45:20.108Z",
    "type": "completion"
   },
   {
    "code": "df[df['2018']]",
    "id": "e3eaa761ef16448fa657de8207ac6c18",
    "idx": 6,
    "time": "2021-01-26T00:45:31.563Z",
    "type": "execution"
   },
   {
    "id": "e3eaa761ef16448fa657de8207ac6c18",
    "time": "2021-01-26T00:45:31.736Z",
    "type": "completion"
   },
   {
    "code": "df['2018']",
    "id": "e3eaa761ef16448fa657de8207ac6c18",
    "idx": 6,
    "time": "2021-01-26T00:45:39.737Z",
    "type": "execution"
   },
   {
    "id": "e3eaa761ef16448fa657de8207ac6c18",
    "time": "2021-01-26T00:45:39.895Z",
    "type": "completion"
   },
   {
    "code": "variables = {\"SP.POP.TOTL\":'Population'}\ncountries = {name_dict.get('Philippines')}\ndf = wbdata.get_dataframe(variables, country=countries, convert_date=False)\ndf",
    "id": "0dfcbe9d9561418883c71f5b21988f26",
    "idx": 5,
    "time": "2021-01-26T00:45:56.011Z",
    "type": "execution"
   },
   {
    "id": "0dfcbe9d9561418883c71f5b21988f26",
    "time": "2021-01-26T00:45:56.161Z",
    "type": "completion"
   },
   {
    "code": "df[df['date'=='2018']]",
    "id": "e3eaa761ef16448fa657de8207ac6c18",
    "idx": 6,
    "time": "2021-01-26T00:46:15.674Z",
    "type": "execution"
   },
   {
    "id": "e3eaa761ef16448fa657de8207ac6c18",
    "time": "2021-01-26T00:46:15.848Z",
    "type": "completion"
   },
   {
    "code": "variables = {\"SP.POP.TOTL\":'Population'}\ncountries = {name_dict.get('Philippines')}\ndf = wbdata.get_dataframe(variables, country=countries, convert_date=False)\ndf = df.unstack('country')\ndf",
    "id": "0dfcbe9d9561418883c71f5b21988f26",
    "idx": 5,
    "time": "2021-01-26T00:46:55.688Z",
    "type": "execution"
   },
   {
    "id": "0dfcbe9d9561418883c71f5b21988f26",
    "time": "2021-01-26T00:46:55.856Z",
    "type": "completion"
   },
   {
    "code": "variables = {\"SP.POP.TOTL\":'Population'}\ncountries = {name_dict.get('Philippines')}\ndf = wbdata.get_dataframe(variables, country=countries, convert_date=False)\ndf = df.unstack('Population')\ndf",
    "id": "0dfcbe9d9561418883c71f5b21988f26",
    "idx": 5,
    "time": "2021-01-26T00:47:02.759Z",
    "type": "execution"
   },
   {
    "id": "0dfcbe9d9561418883c71f5b21988f26",
    "time": "2021-01-26T00:47:02.919Z",
    "type": "completion"
   },
   {
    "code": "variables = {\"SP.POP.TOTL\":'Population'}\ncountries = {name_dict.get('Philippines')}\ndf = wbdata.get_dataframe(variables, country=countries, convert_date=False)\ndf = df.unstack('countries')\ndf",
    "id": "0dfcbe9d9561418883c71f5b21988f26",
    "idx": 5,
    "time": "2021-01-26T00:47:42.525Z",
    "type": "execution"
   },
   {
    "id": "0dfcbe9d9561418883c71f5b21988f26",
    "time": "2021-01-26T00:47:42.732Z",
    "type": "completion"
   },
   {
    "code": "variables = {\"SP.POP.TOTL\":'Population'}\ncountries = {name_dict.get('Philippines')}\ndf = wbdata.get_dataframe(variables, country=countries, convert_date=False)\ndf = df.unstack('country')\ndf",
    "id": "0dfcbe9d9561418883c71f5b21988f26",
    "idx": 5,
    "time": "2021-01-26T00:47:48.874Z",
    "type": "execution"
   },
   {
    "id": "0dfcbe9d9561418883c71f5b21988f26",
    "time": "2021-01-26T00:47:49.043Z",
    "type": "completion"
   },
   {
    "code": "variables = {\"SP.POP.TOTL\":'Population'}\ncountries = {name_dict.get('Philippines')}\ndf = wbdata.get_dataframe(variables, country=countries, convert_date=False)\ndf",
    "id": "0dfcbe9d9561418883c71f5b21988f26",
    "idx": 5,
    "time": "2021-01-26T00:47:53.906Z",
    "type": "execution"
   },
   {
    "id": "0dfcbe9d9561418883c71f5b21988f26",
    "time": "2021-01-26T00:47:54.044Z",
    "type": "completion"
   },
   {
    "code": "df[df['date'=='2018']]",
    "id": "e3eaa761ef16448fa657de8207ac6c18",
    "idx": 6,
    "time": "2021-01-26T00:48:24.288Z",
    "type": "execution"
   },
   {
    "id": "e3eaa761ef16448fa657de8207ac6c18",
    "time": "2021-01-26T00:48:24.444Z",
    "type": "completion"
   },
   {
    "code": "df.index",
    "id": "60579c3f64d741229c8ef35e04d31f2c",
    "idx": 6,
    "time": "2021-01-26T00:48:42.336Z",
    "type": "execution"
   },
   {
    "id": "60579c3f64d741229c8ef35e04d31f2c",
    "time": "2021-01-26T00:48:42.425Z",
    "type": "completion"
   },
   {
    "code": "df[df[df.index=='2018']]",
    "id": "e3eaa761ef16448fa657de8207ac6c18",
    "idx": 7,
    "time": "2021-01-26T00:49:07.822Z",
    "type": "execution"
   },
   {
    "id": "e3eaa761ef16448fa657de8207ac6c18",
    "time": "2021-01-26T00:49:07.977Z",
    "type": "completion"
   },
   {
    "code": "df.loc['2018']",
    "id": "e3eaa761ef16448fa657de8207ac6c18",
    "idx": 7,
    "time": "2021-01-26T00:50:36.057Z",
    "type": "execution"
   },
   {
    "id": "e3eaa761ef16448fa657de8207ac6c18",
    "time": "2021-01-26T00:50:36.153Z",
    "type": "completion"
   },
   {
    "code": "df.loc['2018'][0]",
    "id": "e3eaa761ef16448fa657de8207ac6c18",
    "idx": 7,
    "time": "2021-01-26T00:50:49.137Z",
    "type": "execution"
   },
   {
    "id": "e3eaa761ef16448fa657de8207ac6c18",
    "time": "2021-01-26T00:50:49.231Z",
    "type": "completion"
   },
   {
    "code": "SOURCE = 40 # \"Population estimates and projections\nindicators = wbdata.get_indicator(source=SOURCE)\nindicators",
    "id": "0f4e77ba0a0c4f3d925f75b7c39fb948",
    "idx": 2,
    "time": "2021-01-26T00:53:28.906Z",
    "type": "execution"
   },
   {
    "id": "0f4e77ba0a0c4f3d925f75b7c39fb948",
    "time": "2021-01-26T00:53:29.104Z",
    "type": "completion"
   },
   {
    "code": "variables = {\"SP.POP.TOTL\"}\ncountries = {name_dict.get('Philippines')}\ndf = wbdata.get_dataframe(variables, country=countries, convert_date=False)\ndf",
    "id": "0dfcbe9d9561418883c71f5b21988f26",
    "idx": 5,
    "time": "2021-01-26T01:00:10.879Z",
    "type": "execution"
   },
   {
    "id": "0dfcbe9d9561418883c71f5b21988f26",
    "time": "2021-01-26T01:00:11.004Z",
    "type": "completion"
   },
   {
    "code": "variables = {\"SP.POP.TOTL\":'Population'}\ncountries = {name_dict.get('Philippines')}\ndf = wbdata.get_dataframe(variables, country=countries, convert_date=False)\ndf",
    "id": "0dfcbe9d9561418883c71f5b21988f26",
    "idx": 5,
    "time": "2021-01-26T01:00:20.918Z",
    "type": "execution"
   },
   {
    "id": "0dfcbe9d9561418883c71f5b21988f26",
    "time": "2021-01-26T01:00:21.064Z",
    "type": "completion"
   },
   {
    "code": "def population(year, persons, age_range, location):\n    \"\"\"A python function named population that will deliver information to answer the queries\n    of the following form: In [year] how many [people/males/females] aged [low] to [high] were living in [the\n    world/region/country]?\n    \n    location: a string based on name of country, income level, world location, etc.\n    sex: FE, MA, or all\n    \"\"\"\n    if age_range = 'none':\n        if persons = 'FE':\n            variables = {'SP.POP.TOTL.FE.IN':'Pop'}\n        elif persons = 'MA':\n            variables = {'SP.POP.TOTL.MA.IN':'Pop'}\n        else:\n            variables = {'SP.POP.TOTL':'Pop'}\n        \n    #Converts location parameter to a wbdata 3 letter id\n    name_dict = dict()\n    for i in range(len(wbdata.search_countries(\"\"))):\n        id = wbdata.search_countries(\"\")[i][\"id\"]\n        country = wbdata.search_countries(\"\")[i][\"name\"]\n        name_dict[country] = id\n\n    countries = {name_dict.get(location)}\n    df = wbdata.get_dataframe(variables, country=countries)\n    return df.loc[year][0]",
    "id": "4e9596f7ef2a4a1bb7977c55c247a466",
    "idx": 1,
    "time": "2021-01-26T01:27:16.323Z",
    "type": "execution"
   },
   {
    "id": "4e9596f7ef2a4a1bb7977c55c247a466",
    "time": "2021-01-26T01:27:16.417Z",
    "type": "completion"
   },
   {
    "code": "def population(year, persons, age_range, location):\n    \"\"\"A python function named population that will deliver information to answer the queries\n    of the following form: In [year] how many [people/males/females] aged [low] to [high] were living in [the\n    world/region/country]?\n    \n    location: a string based on name of country, income level, world location, etc.\n    sex: FE, MA, or all\n    \"\"\"\n    if age_range == 'none':\n        if persons == 'FE':\n            variables = {'SP.POP.TOTL.FE.IN':'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.TOTL.MA.IN':'Pop'}\n        else:\n            variables = {'SP.POP.TOTL':'Pop'}\n        \n    #Converts location parameter to a wbdata 3 letter id\n    name_dict = dict()\n    for i in range(len(wbdata.search_countries(\"\"))):\n        id = wbdata.search_countries(\"\")[i][\"id\"]\n        country = wbdata.search_countries(\"\")[i][\"name\"]\n        name_dict[country] = id\n\n    countries = {name_dict.get(location)}\n    df = wbdata.get_dataframe(variables, country=countries)\n    return df.loc[year][0]",
    "id": "4e9596f7ef2a4a1bb7977c55c247a466",
    "idx": 1,
    "time": "2021-01-26T01:27:30.495Z",
    "type": "execution"
   },
   {
    "id": "4e9596f7ef2a4a1bb7977c55c247a466",
    "time": "2021-01-26T01:27:30.585Z",
    "type": "completion"
   },
   {
    "code": "population('1998', 'FE', 'none', 'Philippines')",
    "id": "2a8f97f0085048ec8800b33a51b1a6f3",
    "idx": 2,
    "time": "2021-01-26T01:28:14.029Z",
    "type": "execution"
   },
   {
    "id": "2a8f97f0085048ec8800b33a51b1a6f3",
    "time": "2021-01-26T01:28:15.835Z",
    "type": "completion"
   },
   {
    "code": "variable_labels = {\"SP.POP.TOTL\":\"Total Population\",\n                   \"SP.POP.TOTL.FE.IN\":\"Female Population\",\n                   \"SP.POP.TOTL.MA.IN\":\"Male Population\",\n                   \n                   \"SP.POP.0014.FE.IN\":\"Females (0-14)\",\n                   \"SP.POP.0014.MA.IN\":\"Males (0-14)\",\n                   \n                   \"SP.POP.1564.FE.IN\":\"Females (15-64)\",\n                   \"SP.POP.1564.MA.IN\":\"Males (15-64)\",\n\n                   \"SP.POP.65UP.FE.IN\":\"Females (65+)\", \n                   \"SP.POP.65UP.MA.IN\":\"Males (65+)\", \n                   \n                   \"SP.POP.0004.FE\":\"Females (0-4)\",\n                   \"SP.POP.0004.MA\":\"Males (0-4)\",\n                   \n                   \"SP.POP.0509.FE\":\"Females (5-9)\",\n                   \"SP.POP.0509.MA\":\"Males (5-9)\",\n                   \n                   \"SP.POP.1014.FE\":\"Females (10-14)\",\n                   \"SP.POP.1014.MA\":\"Males (10-14)\",\n                   \n                   \"SP.POP.1519.FE\":\"Females (15-19)\",\n                   \"SP.POP.1519.MA\":\"Males (15-19)\",\n                   \n                   \"SP.POP.2024.FE\":\"Females (20-24)\",\n                   \"SP.POP.2024.MA\":\"Males (20-24)\",\n                   \n                   \"SP.POP.2529.FE\":\"Females (25-29)\",\n                   \"SP.POP.2529.MA\":\"Males (25-29)\",\n                   \n                   \"SP.POP.3034.FE\":\"Females (30-34)\",\n                   \"SP.POP.3034.MA\":\"Males (30-34)\",\n                   \n                   \"SP.POP.3539.FE\":\"Females (35-39)\",\n                   \"SP.POP.3539.MA\":\"Males (35-39)\",\n                   \n                   \"SP.POP.4044.FE\":\"Females (40-44)\",\n                   \"SP.POP.4044.MA\":\"Males (40-44)\",\n                   \n                   \"SP.POP.4549.FE\":\"Females (45-49)\",\n                   \"SP.POP.4549.MA\":\"Males (45-49)\",\n                   \n                   \"SP.POP.5054.FE\":\"Females (50-54)\",\n                   \"SP.POP.5054.MA\":\"Males (50-54)\",\n                   \n                   \"SP.POP.5559.FE\":\"Females (55-59)\",\n                   \"SP.POP.5559.MA\":\"Males (55-59)\",\n                   \n                   \"SP.POP.6064.FE\":\"Females (60-64)\",\n                   \"SP.POP.6064.MA\":\"Males (60-64)\",\n                   \n                   \"SP.POP.6569.FE\":\"Females (65-69)\",\n                   \"SP.POP.6569.MA\":\"Males (65-69)\",\n                   \n                   \"SP.POP.7074.FE\":\"Females (70-74)\",\n                   \"SP.POP.7074.MA\":\"Males (70-74)\",\n                \n                   \"SP.POP.7579.FE\":\"Females (75-79)\",\n                   \"SP.POP.7579.MA\":\"Males (75-79)\",\n                   \n                   \"SP.POP.80UP.FE\":\"Females (80+)\",\n                   \"SP.POP.80UP.MA\":\"Males (80+)\" \n                   \n                  }\nworld = wbdata.get_dataframe(variable_labels, country=\"\")\nworld.head()",
    "id": "44d91ab8e64d46259cfadc1966308340",
    "idx": 4,
    "time": "2021-01-27T22:21:42.188Z",
    "type": "execution"
   },
   {
    "id": "44d91ab8e64d46259cfadc1966308340",
    "time": "2021-01-27T22:21:42.372Z",
    "type": "completion"
   },
   {
    "code": "import wbdata\nimport cufflinks as cf",
    "id": "8da46a9c1ed745888b5a089c126acccb",
    "idx": 0,
    "time": "2021-01-27T22:21:47.593Z",
    "type": "execution"
   },
   {
    "id": "8da46a9c1ed745888b5a089c126acccb",
    "time": "2021-01-27T22:21:47.703Z",
    "type": "completion"
   },
   {
    "code": "!pip install wbdata\nimport wbdata\nimport cufflinks as cf",
    "id": "8da46a9c1ed745888b5a089c126acccb",
    "idx": 0,
    "time": "2021-01-27T22:22:30.168Z",
    "type": "execution"
   },
   {
    "id": "8da46a9c1ed745888b5a089c126acccb",
    "time": "2021-01-27T22:22:36.258Z",
    "type": "completion"
   },
   {
    "code": "!pip install wbdata\nimport wbdata\n!pip install cufflinks\nimport cufflinks as cf",
    "id": "8da46a9c1ed745888b5a089c126acccb",
    "idx": 0,
    "time": "2021-01-27T22:23:01.419Z",
    "type": "execution"
   },
   {
    "id": "8da46a9c1ed745888b5a089c126acccb",
    "time": "2021-01-27T22:23:08.682Z",
    "type": "completion"
   },
   {
    "code": "variable_labels = {\"SP.POP.TOTL\":\"Total Population\",\n                   \"SP.POP.TOTL.FE.IN\":\"Female Population\",\n                   \"SP.POP.TOTL.MA.IN\":\"Male Population\",\n                   \n                   \"SP.POP.0014.FE.IN\":\"Females (0-14)\",\n                   \"SP.POP.0014.MA.IN\":\"Males (0-14)\",\n                   \n                   \"SP.POP.1564.FE.IN\":\"Females (15-64)\",\n                   \"SP.POP.1564.MA.IN\":\"Males (15-64)\",\n\n                   \"SP.POP.65UP.FE.IN\":\"Females (65+)\", \n                   \"SP.POP.65UP.MA.IN\":\"Males (65+)\", \n                   \n                   \"SP.POP.0004.FE\":\"Females (0-4)\",\n                   \"SP.POP.0004.MA\":\"Males (0-4)\",\n                   \n                   \"SP.POP.0509.FE\":\"Females (5-9)\",\n                   \"SP.POP.0509.MA\":\"Males (5-9)\",\n                   \n                   \"SP.POP.1014.FE\":\"Females (10-14)\",\n                   \"SP.POP.1014.MA\":\"Males (10-14)\",\n                   \n                   \"SP.POP.1519.FE\":\"Females (15-19)\",\n                   \"SP.POP.1519.MA\":\"Males (15-19)\",\n                   \n                   \"SP.POP.2024.FE\":\"Females (20-24)\",\n                   \"SP.POP.2024.MA\":\"Males (20-24)\",\n                   \n                   \"SP.POP.2529.FE\":\"Females (25-29)\",\n                   \"SP.POP.2529.MA\":\"Males (25-29)\",\n                   \n                   \"SP.POP.3034.FE\":\"Females (30-34)\",\n                   \"SP.POP.3034.MA\":\"Males (30-34)\",\n                   \n                   \"SP.POP.3539.FE\":\"Females (35-39)\",\n                   \"SP.POP.3539.MA\":\"Males (35-39)\",\n                   \n                   \"SP.POP.4044.FE\":\"Females (40-44)\",\n                   \"SP.POP.4044.MA\":\"Males (40-44)\",\n                   \n                   \"SP.POP.4549.FE\":\"Females (45-49)\",\n                   \"SP.POP.4549.MA\":\"Males (45-49)\",\n                   \n                   \"SP.POP.5054.FE\":\"Females (50-54)\",\n                   \"SP.POP.5054.MA\":\"Males (50-54)\",\n                   \n                   \"SP.POP.5559.FE\":\"Females (55-59)\",\n                   \"SP.POP.5559.MA\":\"Males (55-59)\",\n                   \n                   \"SP.POP.6064.FE\":\"Females (60-64)\",\n                   \"SP.POP.6064.MA\":\"Males (60-64)\",\n                   \n                   \"SP.POP.6569.FE\":\"Females (65-69)\",\n                   \"SP.POP.6569.MA\":\"Males (65-69)\",\n                   \n                   \"SP.POP.7074.FE\":\"Females (70-74)\",\n                   \"SP.POP.7074.MA\":\"Males (70-74)\",\n                \n                   \"SP.POP.7579.FE\":\"Females (75-79)\",\n                   \"SP.POP.7579.MA\":\"Males (75-79)\",\n                   \n                   \"SP.POP.80UP.FE\":\"Females (80+)\",\n                   \"SP.POP.80UP.MA\":\"Males (80+)\" \n                   \n                  }\nworld = wbdata.get_dataframe(variable_labels, country=\"\")\nworld.head()",
    "id": "44d91ab8e64d46259cfadc1966308340",
    "idx": 4,
    "time": "2021-01-27T22:23:19.345Z",
    "type": "execution"
   },
   {
    "id": "44d91ab8e64d46259cfadc1966308340",
    "time": "2021-01-27T22:39:44.144Z",
    "type": "completion"
   },
   {
    "code": "!pip install wbdata\nimport wbdata\n!pip install cufflinks\nimport cufflinks as cf",
    "id": "ef8b8829e06246f88c4fa84cd5bd5333",
    "idx": 0,
    "time": "2021-01-27T23:07:48.808Z",
    "type": "execution"
   },
   {
    "code": "def population(year, persons, age_range, location):\n    \"\"\"A python function named population that will deliver information to answer the queries\n    of the following form: In [year] how many [people/males/females] aged [low] to [high] were living in [the\n    world/region/country]?\n    \n    location (str): name of country, income level, world location, etc.\n    sex (str): a string FE (female), MA (male), or all\n    age_range (str): none, 0004 (Population ages 00-04), 0014 (Population ages 0-14), etc etc\n    \"\"\"\n    if age_range == 'none':\n        if persons == 'FE':\n            variables = {'SP.POP.TOTL.FE.IN':'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.TOTL.MA.IN':'Pop'}\n        else:\n            variables = {'SP.POP.TOTL':'Pop'}\n    if age_range == '0004':\n        if persons == 'FE':\n            variables = {SP.POP.0004.FE : 'Pop'}\n        elif persons == 'MA':\n            variables = {SP.POP.0004.MA : 'Pop'}\n        \n    if age_range == '0014':\n        if persons == 'FE':\n            variables = {SP.POP.0014.FE : 'Pop'}\n        elif persons == 'MA':\n            variables = {SP.POP.0014.MA : 'Pop'}\n        \n    if age_range == '0509':\n        if persons == 'FE':\n            variables = {SP.POP.0509.FE : 'Pop'}\n        elif persons == 'MA':\n            variables = {SP.POP.0509.MA : 'Pop'}\n        \n    if age_range == '1014':\n        if persons == 'FE':\n            variables = {SP.POP.1014.FE : 'Pop'}\n        elif persons == 'MA':\n            variables = {SP.POP.1014.MA : 'Pop'}\n        \n    if age_range == '1519':\n        if persons == 'FE':\n            variables = {SP.POP.1519.FE : 'Pop'}\n        elif persons == 'MA':\n            variables = {SP.POP.1519.MA : 'Pop'}\n\n    if age_range == '1564':\n        if persons == 'FE':\n            variables = {SP.POP.1564.FE : 'Pop'}\n        elif persons == 'MA':\n            variables = {SP.POP.1564.MA : 'Pop'}\n        \n    if age_range == '2024':\n        if persons == 'FE':\n            variables = {SP.POP.2024.FE : 'Pop'}\n        elif persons == 'MA':\n            variables = {SP.POP.2024.MA : 'Pop'}\n        \n    if age_range == '2529':\n        if persons == 'FE':\n            variables = {SP.POP.2529.FE : 'Pop'}\n        elif persons == 'MA':\n            variables = {SP.POP.2529.MA : 'Pop'}\n        \n    if age_range == '3034':\n        if persons == 'FE':\n            variables = {SP.POP.3034.FE : 'Pop'}\n        elif persons == 'MA':\n            variables = {SP.POP.3034.MA : 'Pop'}\n        \n    if age_range == '3539':\n        if persons == 'FE':\n            variables = {SP.POP.3539.FE : 'Pop'}\n        elif persons == 'MA':\n            variables = {SP.POP.3539.MA : 'Pop'}\n        \n    if age_range == '4044':\n        if persons == 'FE':\n            variables = {SP.POP.4044.FE : 'Pop'}\n        elif persons == 'MA':\n            variables = {SP.POP.4044.MA : 'Pop'}\n        \n    if age_range == '4549':\n        if persons == 'FE':\n            variables = {SP.POP.4549.FE : 'Pop'}\n        elif persons == 'MA':\n            variables = {SP.POP.4549.MA : 'Pop'}\n        \n    if age_range == '5054':\n        if persons == 'FE':\n            variables = {SP.POP.5054.FE : 'Pop'}\n        elif persons == 'MA':\n            variables = {SP.POP.5054.MA : 'Pop'}\n        \n    if age_range == '5559':\n        if persons == 'FE':\n            variables = {SP.POP.5559.FE : 'Pop'}\n        elif persons == 'MA':\n            variables = {SP.POP.5559.MA : 'Pop'}\n        \n    if age_range == '6064':\n        if persons == 'FE':\n            variables = {SP.POP.6064.FE : 'Pop'}\n        elif persons == 'MA':\n            variables = {SP.POP.6064.MA : 'Pop'}\n        \n    if age_range == '6569':\n        if persons == 'FE':\n            variables = {SP.POP.6569.FE : 'Pop'}\n        elif persons == 'MA':\n            variables = {SP.POP.6569.MA : 'Pop'}\n        \n    if age_range == '65UP':\n        if persons == 'FE':\n            variables = {SP.POP.65UP.FE : 'Pop'}\n        elif persons == 'MA':\n            variables = {SP.POP.65UP.MA : 'Pop'}\n        \n    if age_range == '7074':\n        if persons == 'FE':\n            variables = {SP.POP.7074.FE : 'Pop'}\n        elif persons == 'MA':\n            variables = {SP.POP.7074.MA : 'Pop'}\n        \n    if age_range == '7579':\n        if persons == 'FE':\n            variables = {SP.POP.7579.FE : 'Pop'}\n        elif persons == 'MA':\n            variables = {SP.POP.7579.MA : 'Pop'}\n        \n    if age_range == '80UP':\n        if persons == 'FE':\n            variables = {SP.POP.80UP.FE : 'Pop'}\n        elif persons == 'MA':\n            variables = {SP.POP.80UP.MA : 'Pop'}\n        \n    #Converts location parameter to a wbdata 3 letter id\n    name_dict = dict()\n    for i in range(len(wbdata.search_countries(\"\"))):\n        id = wbdata.search_countries(\"\")[i][\"id\"]\n        country = wbdata.search_countries(\"\")[i][\"name\"]\n        name_dict[country] = id\n\n    countries = {name_dict.get(location)}\n    df = wbdata.get_dataframe(variables, country=countries)\n    return df.loc[year][0]",
    "id": "3d7dabb50eae4ddc84e0b74fb690c5ea",
    "idx": 1,
    "time": "2021-01-27T23:07:48.821Z",
    "type": "execution"
   },
   {
    "code": "population('1998', 'FE', 'none', 'Philippines') #maybe make population fn output a string sentence such as\n                                                # 'The population for [country] in [year] was xxxxx'?",
    "id": "b524b6ae60394be3abff9c5cd2d1ffaa",
    "idx": 2,
    "time": "2021-01-27T23:07:48.823Z",
    "type": "execution"
   },
   {
    "code": "SOURCE = 40 # \"Population estimates and projections\nindicators = wbdata.get_indicator(source=SOURCE)\nindicators",
    "id": "71b22cf9f9804076ace62dd0f9398088",
    "idx": 3,
    "time": "2021-01-27T23:07:48.825Z",
    "type": "execution"
   },
   {
    "code": "variable_labels = {\"SP.POP.TOTL\":\"Total Population\",\n                   \"SP.POP.TOTL.FE.IN\":\"Female Population\",\n                   \"SP.POP.TOTL.MA.IN\":\"Male Population\",\n                   \n                   \"SP.POP.0014.FE.IN\":\"Females (0-14)\",\n                   \"SP.POP.0014.MA.IN\":\"Males (0-14)\",\n                   \n                   \"SP.POP.1564.FE.IN\":\"Females (15-64)\",\n                   \"SP.POP.1564.MA.IN\":\"Males (15-64)\",\n\n                   \"SP.POP.65UP.FE.IN\":\"Females (65+)\", \n                   \"SP.POP.65UP.MA.IN\":\"Males (65+)\", \n                   \n                   \"SP.POP.0004.FE\":\"Females (0-4)\",\n                   \"SP.POP.0004.MA\":\"Males (0-4)\",\n                   \n                   \"SP.POP.0509.FE\":\"Females (5-9)\",\n                   \"SP.POP.0509.MA\":\"Males (5-9)\",\n                   \n                   \"SP.POP.1014.FE\":\"Females (10-14)\",\n                   \"SP.POP.1014.MA\":\"Males (10-14)\",\n                   \n                   \"SP.POP.1519.FE\":\"Females (15-19)\",\n                   \"SP.POP.1519.MA\":\"Males (15-19)\",\n                   \n                   \"SP.POP.2024.FE\":\"Females (20-24)\",\n                   \"SP.POP.2024.MA\":\"Males (20-24)\",\n                   \n                   \"SP.POP.2529.FE\":\"Females (25-29)\",\n                   \"SP.POP.2529.MA\":\"Males (25-29)\",\n                   \n                   \"SP.POP.3034.FE\":\"Females (30-34)\",\n                   \"SP.POP.3034.MA\":\"Males (30-34)\",\n                   \n                   \"SP.POP.3539.FE\":\"Females (35-39)\",\n                   \"SP.POP.3539.MA\":\"Males (35-39)\",\n                   \n                   \"SP.POP.4044.FE\":\"Females (40-44)\",\n                   \"SP.POP.4044.MA\":\"Males (40-44)\",\n                   \n                   \"SP.POP.4549.FE\":\"Females (45-49)\",\n                   \"SP.POP.4549.MA\":\"Males (45-49)\",\n                   \n                   \"SP.POP.5054.FE\":\"Females (50-54)\",\n                   \"SP.POP.5054.MA\":\"Males (50-54)\",\n                   \n                   \"SP.POP.5559.FE\":\"Females (55-59)\",\n                   \"SP.POP.5559.MA\":\"Males (55-59)\",\n                   \n                   \"SP.POP.6064.FE\":\"Females (60-64)\",\n                   \"SP.POP.6064.MA\":\"Males (60-64)\",\n                   \n                   \"SP.POP.6569.FE\":\"Females (65-69)\",\n                   \"SP.POP.6569.MA\":\"Males (65-69)\",\n                   \n                   \"SP.POP.7074.FE\":\"Females (70-74)\",\n                   \"SP.POP.7074.MA\":\"Males (70-74)\",\n                \n                   \"SP.POP.7579.FE\":\"Females (75-79)\",\n                   \"SP.POP.7579.MA\":\"Males (75-79)\",\n                   \n                   \"SP.POP.80UP.FE\":\"Females (80+)\",\n                   \"SP.POP.80UP.MA\":\"Males (80+)\" \n                   \n                  }\nworld = wbdata.get_dataframe(variable_labels, country=\"\")\nworld.head()",
    "id": "56a4626f7bcd452c84eb95e5e8dc0a80",
    "idx": 4,
    "time": "2021-01-27T23:07:48.827Z",
    "type": "execution"
   },
   {
    "code": "name_dict = dict()\nfor i in range(len(wbdata.search_countries(\"\"))):\n    id = wbdata.search_countries(\"\")[i][\"id\"]\n    country = wbdata.search_countries(\"\")[i][\"name\"]\n    name_dict[country] = id\nname_dict.get('Philippines')",
    "id": "1ed3f76402314b378f57b90bf9345d88",
    "idx": 5,
    "time": "2021-01-27T23:07:48.831Z",
    "type": "execution"
   },
   {
    "code": "variables = {\"SP.POP.TOTL\":'Population'}\ncountries = {name_dict.get('Philippines')}\ndf = wbdata.get_dataframe(variables, country=countries, convert_date=False)\ndf",
    "id": "bde490b5a8b2407b8eee689d237b2be5",
    "idx": 6,
    "time": "2021-01-27T23:07:48.832Z",
    "type": "execution"
   },
   {
    "code": "df.index",
    "id": "5627aadf5fe549618644e3bf0ea71010",
    "idx": 7,
    "time": "2021-01-27T23:07:48.834Z",
    "type": "execution"
   },
   {
    "code": "df.loc['2018'][0]",
    "id": "97e104dad34e4da6917556e13cb6786b",
    "idx": 8,
    "time": "2021-01-27T23:07:48.837Z",
    "type": "execution"
   },
   {
    "id": "ef8b8829e06246f88c4fa84cd5bd5333",
    "time": "2021-01-27T23:07:57.060Z",
    "type": "completion"
   },
   {
    "id": "3d7dabb50eae4ddc84e0b74fb690c5ea",
    "time": "2021-01-27T23:07:57.207Z",
    "type": "completion"
   },
   {
    "id": "b524b6ae60394be3abff9c5cd2d1ffaa",
    "time": "2021-01-27T23:07:57.253Z",
    "type": "completion"
   },
   {
    "id": "71b22cf9f9804076ace62dd0f9398088",
    "time": "2021-01-27T23:07:57.257Z",
    "type": "completion"
   },
   {
    "id": "56a4626f7bcd452c84eb95e5e8dc0a80",
    "time": "2021-01-27T23:07:57.260Z",
    "type": "completion"
   },
   {
    "id": "1ed3f76402314b378f57b90bf9345d88",
    "time": "2021-01-27T23:07:57.262Z",
    "type": "completion"
   },
   {
    "id": "bde490b5a8b2407b8eee689d237b2be5",
    "time": "2021-01-27T23:07:57.263Z",
    "type": "completion"
   },
   {
    "id": "5627aadf5fe549618644e3bf0ea71010",
    "time": "2021-01-27T23:07:57.274Z",
    "type": "completion"
   },
   {
    "id": "97e104dad34e4da6917556e13cb6786b",
    "time": "2021-01-27T23:07:57.275Z",
    "type": "completion"
   },
   {
    "code": "def population(year, persons, age_range, location):\n    \"\"\"A python function named population that will deliver information to answer the queries\n    of the following form: In [year] how many [people/males/females] aged [low] to [high] were living in [the\n    world/region/country]?\n    \n    location (str): name of country, income level, world location, etc.\n    sex (str): a string FE (female), MA (male), or all\n    age_range (str): none, 0004 (Population ages 00-04), 0014 (Population ages 0-14), etc etc\n    \"\"\"\n    if age_range == 'none':\n        if persons == 'FE':\n            variables = {'SP.POP.TOTL.FE.IN':'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.TOTL.MA.IN':'Pop'}\n        else:\n            variables = {'SP.POP.TOTL':'Pop'}\n\n    if age_range == '0004':\n        if persons == 'FE':\n            variables = {'SP.POP.0004.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.0004.MA' : 'Pop'}\n        \n    if age_range == '0014':\n        if persons == 'FE':\n            variables = {'SP.POP.0014.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.0014.MA' : 'Pop'}\n        \n    if age_range == '0509':\n        if persons == 'FE':\n            variables = {'SP.POP.0509.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.0509.MA' : 'Pop'}\n        \n    if age_range == '1014':\n        if persons == 'FE':\n            variables = {'SP.POP.1014.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.1014.MA' : 'Pop'}\n        \n    if age_range == '1519':\n        if persons == 'FE':\n            variables = {'SP.POP.1519.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.1519.MA' : 'Pop'}\n\n    if age_range == '1564':\n        if persons == 'FE':\n            variables = {'SP.POP.1564.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.1564.MA': 'Pop'}\n        \n    if age_range == '2024':\n        if persons == 'FE':\n            variables = {'SP.POP.2024.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.2024.MA' : 'Pop'}\n        \n    if age_range == '2529':\n        if persons == 'FE':\n            variables = {'SP.POP.2529.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.2529.MA' : 'Pop'}\n        \n    if age_range == '3034':\n        if persons == 'FE':\n            variables = {'SP.POP.3034.FE'' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.3034.MA' : 'Pop'}\n        \n    if age_range == '3539':\n        if persons == 'FE':\n            variables = {'SP.POP.3539.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.3539.MA' : 'Pop'}\n        \n    if age_range == '4044':\n        if persons == 'FE':\n            variables = {'SP.POP.4044.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.4044.MA' : 'Pop'}\n        \n    if age_range == '4549':\n        if persons == 'FE':\n            variables = {'SP.POP.4549.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.4549.MA' : 'Pop'}\n        \n    if age_range == '5054':\n        if persons == 'FE':\n            variables = {'SP.POP.5054.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.5054.MA' : 'Pop'}\n        \n    if age_range == '5559':\n        if persons == 'FE':\n            variables = {'SP.POP.5559.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.5559.MA' : 'Pop'}\n        \n    if age_range == '6064':\n        if persons == 'FE':\n            variables = {'SP.POP.6064.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.6064.MA' : 'Pop'}\n        \n    if age_range == '6569':\n        if persons == 'FE':\n            variables = {'SP.POP.6569.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.6569.MA' : 'Pop'}\n        \n    if age_range == '65UP':\n        if persons == 'FE':\n            variables = {'SP.POP.65UP.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.65UP.MA' : 'Pop'}\n        \n    if age_range == '7074':\n        if persons == 'FE':\n            variables = {'SP.POP.7074.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.7074.MA' : 'Pop'}\n        \n    if age_range == '7579':\n        if persons == 'FE':\n            variables = {'SP.POP.7579.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.7579.MA' : 'Pop'}\n        \n    if age_range == '80UP':\n        if persons == 'FE':\n            variables = {'SP.POP.80UP.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.80UP.MA' : 'Pop'}\n        \n    #Converts location parameter to a wbdata 3 letter id\n    name_dict = dict()\n    for i in range(len(wbdata.search_countries(\"\"))):\n        id = wbdata.search_countries(\"\")[i][\"id\"]\n        country = wbdata.search_countries(\"\")[i][\"name\"]\n        name_dict[country] = id\n\n    countries = {name_dict.get(location)}\n    df = wbdata.get_dataframe(variables, country=countries)\n    return df.loc[year][0]",
    "id": "3d7dabb50eae4ddc84e0b74fb690c5ea",
    "idx": 1,
    "time": "2021-01-27T23:14:16.384Z",
    "type": "execution"
   },
   {
    "id": "3d7dabb50eae4ddc84e0b74fb690c5ea",
    "time": "2021-01-27T23:14:16.579Z",
    "type": "completion"
   },
   {
    "code": "def population(year, persons, age_range, location):\n    \"\"\"A python function named population that will deliver information to answer the queries\n    of the following form: In [year] how many [people/males/females] aged [low] to [high] were living in [the\n    world/region/country]?\n    \n    location (str): name of country, income level, world location, etc.\n    sex (str): a string FE (female), MA (male), or all\n    age_range (str): none, 0004 (Population ages 00-04), 0014 (Population ages 0-14), etc etc\n    \"\"\"\n    if age_range == 'none':\n        if persons == 'FE':\n            variables = {'SP.POP.TOTL.FE.IN':'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.TOTL.MA.IN':'Pop'}\n        else:\n            variables = {'SP.POP.TOTL':'Pop'}\n\n    if age_range == '0004':\n        if persons == 'FE':\n            variables = {'SP.POP.0004.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.0004.MA' : 'Pop'}\n        \n    if age_range == '0014':\n        if persons == 'FE':\n            variables = {'SP.POP.0014.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.0014.MA' : 'Pop'}\n        \n    if age_range == '0509':\n        if persons == 'FE':\n            variables = {'SP.POP.0509.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.0509.MA' : 'Pop'}\n        \n    if age_range == '1014':\n        if persons == 'FE':\n            variables = {'SP.POP.1014.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.1014.MA' : 'Pop'}\n        \n    if age_range == '1519':\n        if persons == 'FE':\n            variables = {'SP.POP.1519.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.1519.MA' : 'Pop'}\n\n    if age_range == '1564':\n        if persons == 'FE':\n            variables = {'SP.POP.1564.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.1564.MA': 'Pop'}\n        \n    if age_range == '2024':\n        if persons == 'FE':\n            variables = {'SP.POP.2024.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.2024.MA' : 'Pop'}\n        \n    if age_range == '2529':\n        if persons == 'FE':\n            variables = {'SP.POP.2529.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.2529.MA' : 'Pop'}\n        \n    if age_range == '3034':\n        if persons == 'FE':\n            variables = {'SP.POP.3034.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.3034.MA' : 'Pop'}\n        \n    if age_range == '3539':\n        if persons == 'FE':\n            variables = {'SP.POP.3539.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.3539.MA' : 'Pop'}\n        \n    if age_range == '4044':\n        if persons == 'FE':\n            variables = {'SP.POP.4044.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.4044.MA' : 'Pop'}\n        \n    if age_range == '4549':\n        if persons == 'FE':\n            variables = {'SP.POP.4549.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.4549.MA' : 'Pop'}\n        \n    if age_range == '5054':\n        if persons == 'FE':\n            variables = {'SP.POP.5054.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.5054.MA' : 'Pop'}\n        \n    if age_range == '5559':\n        if persons == 'FE':\n            variables = {'SP.POP.5559.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.5559.MA' : 'Pop'}\n        \n    if age_range == '6064':\n        if persons == 'FE':\n            variables = {'SP.POP.6064.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.6064.MA' : 'Pop'}\n        \n    if age_range == '6569':\n        if persons == 'FE':\n            variables = {'SP.POP.6569.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.6569.MA' : 'Pop'}\n        \n    if age_range == '65UP':\n        if persons == 'FE':\n            variables = {'SP.POP.65UP.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.65UP.MA' : 'Pop'}\n        \n    if age_range == '7074':\n        if persons == 'FE':\n            variables = {'SP.POP.7074.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.7074.MA' : 'Pop'}\n        \n    if age_range == '7579':\n        if persons == 'FE':\n            variables = {'SP.POP.7579.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.7579.MA' : 'Pop'}\n        \n    if age_range == '80UP':\n        if persons == 'FE':\n            variables = {'SP.POP.80UP.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.80UP.MA' : 'Pop'}\n        \n    #Converts location parameter to a wbdata 3 letter id\n    name_dict = dict()\n    for i in range(len(wbdata.search_countries(\"\"))):\n        id = wbdata.search_countries(\"\")[i][\"id\"]\n        country = wbdata.search_countries(\"\")[i][\"name\"]\n        name_dict[country] = id\n\n    countries = {name_dict.get(location)}\n    df = wbdata.get_dataframe(variables, country=countries)\n    return df.loc[year][0]",
    "id": "3d7dabb50eae4ddc84e0b74fb690c5ea",
    "idx": 1,
    "time": "2021-01-27T23:14:31.186Z",
    "type": "execution"
   },
   {
    "id": "3d7dabb50eae4ddc84e0b74fb690c5ea",
    "time": "2021-01-27T23:14:31.360Z",
    "type": "completion"
   },
   {
    "code": "population('2017', 'MA','2529','Azerbaijan')",
    "id": "e13d55fd2e644b619b58e58d36e56bc0",
    "idx": 2,
    "time": "2021-01-27T23:16:31.733Z",
    "type": "execution"
   },
   {
    "id": "e13d55fd2e644b619b58e58d36e56bc0",
    "time": "2021-01-27T23:16:34.525Z",
    "type": "completion"
   },
   {
    "code": "population('2017', 'MA','2529','Azerbaijan') / population('2017', 'all', 'none', 'Azerbaijan')",
    "id": "e13d55fd2e644b619b58e58d36e56bc0",
    "idx": 2,
    "time": "2021-01-27T23:18:43.413Z",
    "type": "execution"
   },
   {
    "id": "e13d55fd2e644b619b58e58d36e56bc0",
    "time": "2021-01-27T23:18:47.203Z",
    "type": "completion"
   },
   {
    "code": "!pip install wbdata\nimport wbdata\n!pip install cufflinks\nimport cufflinks as cf",
    "id": "4755c4f78d4d471294eda8139358cbb9",
    "idx": 0,
    "time": "2021-01-27T23:22:00.527Z",
    "type": "execution"
   },
   {
    "code": "def population(year, persons, age_range, location):\n    \"\"\"A python function named population that will deliver information to answer the queries\n    of the following form: In [year] how many [people/males/females] aged [low] to [high] were living in [the\n    world/region/country]?\n    \n    location (str): name of country, income level, world location, etc.\n    sex (str): a string FE (female), MA (male), or all\n    age_range (str): none, 0004 (Population ages 00-04), 0014 (Population ages 0-14), etc etc\n    \"\"\"\n    if age_range == 'none':\n        if persons == 'FE':\n            variables = {'SP.POP.TOTL.FE.IN':'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.TOTL.MA.IN':'Pop'}\n        else:\n            variables = {'SP.POP.TOTL':'Pop'}\n\n    if age_range == '0004':\n        if persons == 'FE':\n            variables = {'SP.POP.0004.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.0004.MA' : 'Pop'}\n        \n    if age_range == '0014':\n        if persons == 'FE':\n            variables = {'SP.POP.0014.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.0014.MA' : 'Pop'}\n        \n    if age_range == '0509':\n        if persons == 'FE':\n            variables = {'SP.POP.0509.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.0509.MA' : 'Pop'}\n        \n    if age_range == '1014':\n        if persons == 'FE':\n            variables = {'SP.POP.1014.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.1014.MA' : 'Pop'}\n        \n    if age_range == '1519':\n        if persons == 'FE':\n            variables = {'SP.POP.1519.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.1519.MA' : 'Pop'}\n\n    if age_range == '1564':\n        if persons == 'FE':\n            variables = {'SP.POP.1564.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.1564.MA': 'Pop'}\n        \n    if age_range == '2024':\n        if persons == 'FE':\n            variables = {'SP.POP.2024.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.2024.MA' : 'Pop'}\n        \n    if age_range == '2529':\n        if persons == 'FE':\n            variables = {'SP.POP.2529.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.2529.MA' : 'Pop'}\n        \n    if age_range == '3034':\n        if persons == 'FE':\n            variables = {'SP.POP.3034.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.3034.MA' : 'Pop'}\n        \n    if age_range == '3539':\n        if persons == 'FE':\n            variables = {'SP.POP.3539.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.3539.MA' : 'Pop'}\n        \n    if age_range == '4044':\n        if persons == 'FE':\n            variables = {'SP.POP.4044.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.4044.MA' : 'Pop'}\n        \n    if age_range == '4549':\n        if persons == 'FE':\n            variables = {'SP.POP.4549.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.4549.MA' : 'Pop'}\n        \n    if age_range == '5054':\n        if persons == 'FE':\n            variables = {'SP.POP.5054.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.5054.MA' : 'Pop'}\n        \n    if age_range == '5559':\n        if persons == 'FE':\n            variables = {'SP.POP.5559.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.5559.MA' : 'Pop'}\n        \n    if age_range == '6064':\n        if persons == 'FE':\n            variables = {'SP.POP.6064.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.6064.MA' : 'Pop'}\n        \n    if age_range == '6569':\n        if persons == 'FE':\n            variables = {'SP.POP.6569.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.6569.MA' : 'Pop'}\n        \n    if age_range == '65UP':\n        if persons == 'FE':\n            variables = {'SP.POP.65UP.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.65UP.MA' : 'Pop'}\n        \n    if age_range == '7074':\n        if persons == 'FE':\n            variables = {'SP.POP.7074.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.7074.MA' : 'Pop'}\n        \n    if age_range == '7579':\n        if persons == 'FE':\n            variables = {'SP.POP.7579.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.7579.MA' : 'Pop'}\n        \n    if age_range == '80UP':\n        if persons == 'FE':\n            variables = {'SP.POP.80UP.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.80UP.MA' : 'Pop'}\n        \n    #Converts location parameter to a wbdata 3 letter id\n    name_dict = dict()\n    for i in range(len(wbdata.search_countries(\"\"))):\n        id = wbdata.search_countries(\"\")[i][\"id\"]\n        country = wbdata.search_countries(\"\")[i][\"name\"]\n        name_dict[country] = id\n\n    countries = {name_dict.get(location)}\n    df = wbdata.get_dataframe(variables, country=countries)\n    return df.loc[year][0]",
    "id": "690b2fc7b7694c158fb49ae0c73a0e19",
    "idx": 1,
    "time": "2021-01-27T23:22:00.537Z",
    "type": "execution"
   },
   {
    "code": "population('2017', 'MA','2529','Azerbaijan') / population('2017', 'all', 'none', 'Azerbaijan')",
    "id": "0fcb2d9d63fb482788550774051ce273",
    "idx": 2,
    "time": "2021-01-27T23:22:00.542Z",
    "type": "execution"
   },
   {
    "code": "population('1998', 'FE', 'none', 'Philippines') #maybe make population fn output a string sentence such as\n                                                # 'The population for [country] in [year] was xxxxx'?",
    "id": "37a23cab134f4d7f8a94705da4a45d92",
    "idx": 3,
    "time": "2021-01-27T23:22:00.546Z",
    "type": "execution"
   },
   {
    "code": "SOURCE = 40 # \"Population estimates and projections\nindicators = wbdata.get_indicator(source=SOURCE)\nindicators",
    "id": "8d2bd9adfd424006802c41bf70785184",
    "idx": 4,
    "time": "2021-01-27T23:22:00.548Z",
    "type": "execution"
   },
   {
    "code": "variable_labels = {\"SP.POP.TOTL\":\"Total Population\",\n                   \"SP.POP.TOTL.FE.IN\":\"Female Population\",\n                   \"SP.POP.TOTL.MA.IN\":\"Male Population\",\n                   \n                   \"SP.POP.0014.FE.IN\":\"Females (0-14)\",\n                   \"SP.POP.0014.MA.IN\":\"Males (0-14)\",\n                   \n                   \"SP.POP.1564.FE.IN\":\"Females (15-64)\",\n                   \"SP.POP.1564.MA.IN\":\"Males (15-64)\",\n\n                   \"SP.POP.65UP.FE.IN\":\"Females (65+)\", \n                   \"SP.POP.65UP.MA.IN\":\"Males (65+)\", \n                   \n                   \"SP.POP.0004.FE\":\"Females (0-4)\",\n                   \"SP.POP.0004.MA\":\"Males (0-4)\",\n                   \n                   \"SP.POP.0509.FE\":\"Females (5-9)\",\n                   \"SP.POP.0509.MA\":\"Males (5-9)\",\n                   \n                   \"SP.POP.1014.FE\":\"Females (10-14)\",\n                   \"SP.POP.1014.MA\":\"Males (10-14)\",\n                   \n                   \"SP.POP.1519.FE\":\"Females (15-19)\",\n                   \"SP.POP.1519.MA\":\"Males (15-19)\",\n                   \n                   \"SP.POP.2024.FE\":\"Females (20-24)\",\n                   \"SP.POP.2024.MA\":\"Males (20-24)\",\n                   \n                   \"SP.POP.2529.FE\":\"Females (25-29)\",\n                   \"SP.POP.2529.MA\":\"Males (25-29)\",\n                   \n                   \"SP.POP.3034.FE\":\"Females (30-34)\",\n                   \"SP.POP.3034.MA\":\"Males (30-34)\",\n                   \n                   \"SP.POP.3539.FE\":\"Females (35-39)\",\n                   \"SP.POP.3539.MA\":\"Males (35-39)\",\n                   \n                   \"SP.POP.4044.FE\":\"Females (40-44)\",\n                   \"SP.POP.4044.MA\":\"Males (40-44)\",\n                   \n                   \"SP.POP.4549.FE\":\"Females (45-49)\",\n                   \"SP.POP.4549.MA\":\"Males (45-49)\",\n                   \n                   \"SP.POP.5054.FE\":\"Females (50-54)\",\n                   \"SP.POP.5054.MA\":\"Males (50-54)\",\n                   \n                   \"SP.POP.5559.FE\":\"Females (55-59)\",\n                   \"SP.POP.5559.MA\":\"Males (55-59)\",\n                   \n                   \"SP.POP.6064.FE\":\"Females (60-64)\",\n                   \"SP.POP.6064.MA\":\"Males (60-64)\",\n                   \n                   \"SP.POP.6569.FE\":\"Females (65-69)\",\n                   \"SP.POP.6569.MA\":\"Males (65-69)\",\n                   \n                   \"SP.POP.7074.FE\":\"Females (70-74)\",\n                   \"SP.POP.7074.MA\":\"Males (70-74)\",\n                \n                   \"SP.POP.7579.FE\":\"Females (75-79)\",\n                   \"SP.POP.7579.MA\":\"Males (75-79)\",\n                   \n                   \"SP.POP.80UP.FE\":\"Females (80+)\",\n                   \"SP.POP.80UP.MA\":\"Males (80+)\" \n                   \n                  }\nworld = wbdata.get_dataframe(variable_labels, country=\"\")\nworld.head()",
    "id": "0aa41fe938be4cdd9563b7ed080f8926",
    "idx": 5,
    "time": "2021-01-27T23:22:00.556Z",
    "type": "execution"
   },
   {
    "id": "4755c4f78d4d471294eda8139358cbb9",
    "time": "2021-01-27T23:22:09.728Z",
    "type": "completion"
   },
   {
    "id": "690b2fc7b7694c158fb49ae0c73a0e19",
    "time": "2021-01-27T23:22:09.730Z",
    "type": "completion"
   },
   {
    "id": "0fcb2d9d63fb482788550774051ce273",
    "time": "2021-01-27T23:22:12.086Z",
    "type": "completion"
   },
   {
    "id": "37a23cab134f4d7f8a94705da4a45d92",
    "time": "2021-01-27T23:22:13.127Z",
    "type": "completion"
   },
   {
    "id": "8d2bd9adfd424006802c41bf70785184",
    "time": "2021-01-27T23:22:13.247Z",
    "type": "completion"
   },
   {
    "id": "0aa41fe938be4cdd9563b7ed080f8926",
    "time": "2021-01-27T23:22:23.595Z",
    "type": "completion"
   },
   {
    "code": "#A2 returns a dataframe of the given populations derived from wbdata\ndef df(location):\n    \"\"\"    \"\"\"\n    # Give variable for clarity\n    variable_labels = {\"SP.POP.TOTL\":\"Total Population\",\n                   \"SP.POP.TOTL.FE.IN\":\"Female Population\",\n                   \"SP.POP.TOTL.MA.IN\":\"Male Population\",\n                   \n                   \"SP.POP.0014.FE.IN\":\"Females (0-14)\",\n                   \"SP.POP.0014.MA.IN\":\"Males (0-14)\",\n                   \n                   \"SP.POP.1564.FE.IN\":\"Females (15-64)\",\n                   \"SP.POP.1564.MA.IN\":\"Males (15-64)\",\n\n                   \"SP.POP.65UP.FE.IN\":\"Females (65+)\", \n                   \"SP.POP.65UP.MA.IN\":\"Males (65+)\", \n                   \n                   \"SP.POP.0004.FE\":\"Females (0-4)\",\n                   \"SP.POP.0004.MA\":\"Males (0-4)\",\n                   \n                   \"SP.POP.0509.FE\":\"Females (5-9)\",\n                   \"SP.POP.0509.MA\":\"Males (5-9)\",\n                   \n                   \"SP.POP.1014.FE\":\"Females (10-14)\",\n                   \"SP.POP.1014.MA\":\"Males (10-14)\",\n                   \n                   \"SP.POP.1519.FE\":\"Females (15-19)\",\n                   \"SP.POP.1519.MA\":\"Males (15-19)\",\n                   \n                   \"SP.POP.2024.FE\":\"Females (20-24)\",\n                   \"SP.POP.2024.MA\":\"Males (20-24)\",\n                   \n                   \"SP.POP.2529.FE\":\"Females (25-29)\",\n                   \"SP.POP.2529.MA\":\"Males (25-29)\",\n                   \n                   \"SP.POP.3034.FE\":\"Females (30-34)\",\n                   \"SP.POP.3034.MA\":\"Males (30-34)\",\n                   \n                   \"SP.POP.3539.FE\":\"Females (35-39)\",\n                   \"SP.POP.3539.MA\":\"Males (35-39)\",\n                   \n                   \"SP.POP.4044.FE\":\"Females (40-44)\",\n                   \"SP.POP.4044.MA\":\"Males (40-44)\",\n                   \n                   \"SP.POP.4549.FE\":\"Females (45-49)\",\n                   \"SP.POP.4549.MA\":\"Males (45-49)\",\n                   \n                   \"SP.POP.5054.FE\":\"Females (50-54)\",\n                   \"SP.POP.5054.MA\":\"Males (50-54)\",\n                   \n                   \"SP.POP.5559.FE\":\"Females (55-59)\",\n                   \"SP.POP.5559.MA\":\"Males (55-59)\",\n                   \n                   \"SP.POP.6064.FE\":\"Females (60-64)\",\n                   \"SP.POP.6064.MA\":\"Males (60-64)\",\n                   \n                   \"SP.POP.6569.FE\":\"Females (65-69)\",\n                   \"SP.POP.6569.MA\":\"Males (65-69)\",\n                   \n                   \"SP.POP.7074.FE\":\"Females (70-74)\",\n                   \"SP.POP.7074.MA\":\"Males (70-74)\",\n                \n                   \"SP.POP.7579.FE\":\"Females (75-79)\",\n                   \"SP.POP.7579.MA\":\"Males (75-79)\",\n                   \n                   \"SP.POP.80UP.FE\":\"Females (80+)\",\n                   \"SP.POP.80UP.MA\":\"Males (80+)\" \n                   \n                  }\n    \n    #Converts location parameter to a wbdata 3 letter id\n    name_dict = dict()\n    for i in range(len(wbdata.search_countries(\"\"))):\n        id = wbdata.search_countries(\"\")[i][\"id\"]\n        country = wbdata.search_countries(\"\")[i][\"name\"]\n        name_dict[country] = id\n    countries = {name_dict.get(location)}\n\n    pop_df = wbdata.get_dataframe(variable_labels, country=countries)\n\n    # Print a few years' data\n    return pop_df.head(65)\n",
    "id": "74e6f5bb995947a486388e9b5c60dfbd",
    "idx": 1,
    "time": "2021-01-27T23:56:13.626Z",
    "type": "execution"
   },
   {
    "id": "74e6f5bb995947a486388e9b5c60dfbd",
    "time": "2021-01-27T23:56:13.921Z",
    "type": "completion"
   },
   {
    "code": "df('Philippines')",
    "id": "9e600b55f67e4013865c9404c97855ff",
    "idx": 2,
    "time": "2021-01-27T23:56:44.640Z",
    "type": "execution"
   },
   {
    "id": "9e600b55f67e4013865c9404c97855ff",
    "time": "2021-01-27T23:56:57.295Z",
    "type": "completion"
   },
   {
    "code": "df('Philippines')",
    "id": "9e600b55f67e4013865c9404c97855ff",
    "idx": 2,
    "time": "2021-01-27T23:57:08.041Z",
    "type": "execution"
   },
   {
    "id": "9e600b55f67e4013865c9404c97855ff",
    "time": "2021-01-27T23:57:59.140Z",
    "type": "completion"
   },
   {
    "code": "df()",
    "id": "9e600b55f67e4013865c9404c97855ff",
    "idx": 2,
    "time": "2021-01-28T00:00:52.059Z",
    "type": "execution"
   },
   {
    "id": "9e600b55f67e4013865c9404c97855ff",
    "time": "2021-01-28T00:00:52.386Z",
    "type": "completion"
   },
   {
    "code": "#A2 returns a dataframe of the given populations derived from wbdata\ndef df():\n    \"\"\"A function that returns a pandas DataFrame indexed by Region or Country and Year, \n    with columns giving counts of people in different age-sex groups.\n    \"\"\"\n    # Give variable for clarity\n    variable_labels = {\"SP.POP.TOTL\":\"Total Population\",\n                   \"SP.POP.TOTL.FE.IN\":\"Female Population\",\n                   \"SP.POP.TOTL.MA.IN\":\"Male Population\",\n                   \n                   \"SP.POP.0014.FE.IN\":\"Females (0-14)\",\n                   \"SP.POP.0014.MA.IN\":\"Males (0-14)\",\n                   \n                   \"SP.POP.1564.FE.IN\":\"Females (15-64)\",\n                   \"SP.POP.1564.MA.IN\":\"Males (15-64)\",\n\n                   \"SP.POP.65UP.FE.IN\":\"Females (65+)\", \n                   \"SP.POP.65UP.MA.IN\":\"Males (65+)\", \n                   \n                   \"SP.POP.0004.FE\":\"Females (0-4)\",\n                   \"SP.POP.0004.MA\":\"Males (0-4)\",\n                   \n                   \"SP.POP.0509.FE\":\"Females (5-9)\",\n                   \"SP.POP.0509.MA\":\"Males (5-9)\",\n                   \n                   \"SP.POP.1014.FE\":\"Females (10-14)\",\n                   \"SP.POP.1014.MA\":\"Males (10-14)\",\n                   \n                   \"SP.POP.1519.FE\":\"Females (15-19)\",\n                   \"SP.POP.1519.MA\":\"Males (15-19)\",\n                   \n                   \"SP.POP.2024.FE\":\"Females (20-24)\",\n                   \"SP.POP.2024.MA\":\"Males (20-24)\",\n                   \n                   \"SP.POP.2529.FE\":\"Females (25-29)\",\n                   \"SP.POP.2529.MA\":\"Males (25-29)\",\n                   \n                   \"SP.POP.3034.FE\":\"Females (30-34)\",\n                   \"SP.POP.3034.MA\":\"Males (30-34)\",\n                   \n                   \"SP.POP.3539.FE\":\"Females (35-39)\",\n                   \"SP.POP.3539.MA\":\"Males (35-39)\",\n                   \n                   \"SP.POP.4044.FE\":\"Females (40-44)\",\n                   \"SP.POP.4044.MA\":\"Males (40-44)\",\n                   \n                   \"SP.POP.4549.FE\":\"Females (45-49)\",\n                   \"SP.POP.4549.MA\":\"Males (45-49)\",\n                   \n                   \"SP.POP.5054.FE\":\"Females (50-54)\",\n                   \"SP.POP.5054.MA\":\"Males (50-54)\",\n                   \n                   \"SP.POP.5559.FE\":\"Females (55-59)\",\n                   \"SP.POP.5559.MA\":\"Males (55-59)\",\n                   \n                   \"SP.POP.6064.FE\":\"Females (60-64)\",\n                   \"SP.POP.6064.MA\":\"Males (60-64)\",\n                   \n                   \"SP.POP.6569.FE\":\"Females (65-69)\",\n                   \"SP.POP.6569.MA\":\"Males (65-69)\",\n                   \n                   \"SP.POP.7074.FE\":\"Females (70-74)\",\n                   \"SP.POP.7074.MA\":\"Males (70-74)\",\n                \n                   \"SP.POP.7579.FE\":\"Females (75-79)\",\n                   \"SP.POP.7579.MA\":\"Males (75-79)\",\n                   \n                   \"SP.POP.80UP.FE\":\"Females (80+)\",\n                   \"SP.POP.80UP.MA\":\"Males (80+)\" \n                   \n                  }\n\n    pop_df = wbdata.get_dataframe(variable_labels, country=\"\")\n\n    # Print a few years' data\n    return pop_df.head()\n",
    "id": "74e6f5bb995947a486388e9b5c60dfbd",
    "idx": 1,
    "time": "2021-01-28T00:00:57.267Z",
    "type": "execution"
   },
   {
    "id": "74e6f5bb995947a486388e9b5c60dfbd",
    "time": "2021-01-28T00:00:57.370Z",
    "type": "completion"
   },
   {
    "code": "df()",
    "id": "9e600b55f67e4013865c9404c97855ff",
    "idx": 2,
    "time": "2021-01-28T00:00:59.297Z",
    "type": "execution"
   },
   {
    "id": "9e600b55f67e4013865c9404c97855ff",
    "time": "2021-01-28T00:01:09.614Z",
    "type": "completion"
   },
   {
    "code": "df.head(50)",
    "id": "9e600b55f67e4013865c9404c97855ff",
    "idx": 2,
    "time": "2021-01-28T00:04:14.579Z",
    "type": "execution"
   },
   {
    "id": "9e600b55f67e4013865c9404c97855ff",
    "time": "2021-01-28T00:04:14.853Z",
    "type": "completion"
   },
   {
    "code": "df().head(50)",
    "id": "9e600b55f67e4013865c9404c97855ff",
    "idx": 2,
    "time": "2021-01-28T00:04:22.694Z",
    "type": "execution"
   },
   {
    "id": "9e600b55f67e4013865c9404c97855ff",
    "time": "2021-01-28T00:04:33.056Z",
    "type": "completion"
   },
   {
    "code": "#A1 population function\ndef population(year, persons, age_range, location):\n    \"\"\"A python function named population that will deliver information to answer the queries\n    of the following form: In [year] how many [people/males/females] aged [low] to [high] were living in [the\n    world/region/country]?\n    \n    location (str): name of country, income level, world location, etc.\n    sex (str): a string FE (female), MA (male), or all\n    age_range (str): none, 0004 (Population ages 00-04), 0014 (Population ages 0-14), etc etc\n    \n    Returns a population from wbdata of a location given year, persons, and age range.\n    \"\"\"\n    if age_range == 'none':\n        if persons == 'FE':\n            variables = {'SP.POP.TOTL.FE.IN':'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.TOTL.MA.IN':'Pop'}\n        else:\n            variables = {'SP.POP.TOTL':'Pop'}\n\n    if age_range == '0004':\n        if persons == 'FE':\n            variables = {'SP.POP.0004.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.0004.MA' : 'Pop'}\n        \n    if age_range == '0014':\n        if persons == 'FE':\n            variables = {'SP.POP.0014.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.0014.MA' : 'Pop'}\n        \n    if age_range == '0509':\n        if persons == 'FE':\n            variables = {'SP.POP.0509.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.0509.MA' : 'Pop'}\n        \n    if age_range == '1014':\n        if persons == 'FE':\n            variables = {'SP.POP.1014.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.1014.MA' : 'Pop'}\n        \n    if age_range == '1519':\n        if persons == 'FE':\n            variables = {'SP.POP.1519.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.1519.MA' : 'Pop'}\n\n    if age_range == '1564':\n        if persons == 'FE':\n            variables = {'SP.POP.1564.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.1564.MA': 'Pop'}\n        \n    if age_range == '2024':\n        if persons == 'FE':\n            variables = {'SP.POP.2024.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.2024.MA' : 'Pop'}\n        \n    if age_range == '2529':\n        if persons == 'FE':\n            variables = {'SP.POP.2529.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.2529.MA' : 'Pop'}\n        \n    if age_range == '3034':\n        if persons == 'FE':\n            variables = {'SP.POP.3034.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.3034.MA' : 'Pop'}\n        \n    if age_range == '3539':\n        if persons == 'FE':\n            variables = {'SP.POP.3539.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.3539.MA' : 'Pop'}\n        \n    if age_range == '4044':\n        if persons == 'FE':\n            variables = {'SP.POP.4044.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.4044.MA' : 'Pop'}\n        \n    if age_range == '4549':\n        if persons == 'FE':\n            variables = {'SP.POP.4549.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.4549.MA' : 'Pop'}\n        \n    if age_range == '5054':\n        if persons == 'FE':\n            variables = {'SP.POP.5054.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.5054.MA' : 'Pop'}\n        \n    if age_range == '5559':\n        if persons == 'FE':\n            variables = {'SP.POP.5559.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.5559.MA' : 'Pop'}\n        \n    if age_range == '6064':\n        if persons == 'FE':\n            variables = {'SP.POP.6064.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.6064.MA' : 'Pop'}\n        \n    if age_range == '6569':\n        if persons == 'FE':\n            variables = {'SP.POP.6569.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.6569.MA' : 'Pop'}\n        \n    if age_range == '65UP':\n        if persons == 'FE':\n            variables = {'SP.POP.65UP.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.65UP.MA' : 'Pop'}\n        \n    if age_range == '7074':\n        if persons == 'FE':\n            variables = {'SP.POP.7074.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.7074.MA' : 'Pop'}\n        \n    if age_range == '7579':\n        if persons == 'FE':\n            variables = {'SP.POP.7579.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.7579.MA' : 'Pop'}\n        \n    if age_range == '80UP':\n        if persons == 'FE':\n            variables = {'SP.POP.80UP.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.80UP.MA' : 'Pop'}\n        \n\n    df = df()\n    return df.loc[(df['country'] == location) & df['year'] == year]",
    "id": "690b2fc7b7694c158fb49ae0c73a0e19",
    "idx": 3,
    "time": "2021-01-28T00:19:32.476Z",
    "type": "execution"
   },
   {
    "id": "690b2fc7b7694c158fb49ae0c73a0e19",
    "time": "2021-01-28T00:19:32.663Z",
    "type": "completion"
   },
   {
    "code": "population('1998', 'FE', 'none', 'Philippines') #maybe make population fn output a string sentence such as\n                                                # 'The population for [country] in [year] was xxxxx'?",
    "id": "37a23cab134f4d7f8a94705da4a45d92",
    "idx": 5,
    "time": "2021-01-28T00:19:44.290Z",
    "type": "execution"
   },
   {
    "id": "37a23cab134f4d7f8a94705da4a45d92",
    "time": "2021-01-28T00:19:44.452Z",
    "type": "completion"
   },
   {
    "code": "#A1 population function\ndef population(year, persons, age_range, location):\n    \"\"\"A python function named population that will deliver information to answer the queries\n    of the following form: In [year] how many [people/males/females] aged [low] to [high] were living in [the\n    world/region/country]?\n    \n    location (str): name of country, income level, world location, etc.\n    sex (str): a string FE (female), MA (male), or all\n    age_range (str): none, 0004 (Population ages 00-04), 0014 (Population ages 0-14), etc etc\n    \n    Returns a population from wbdata of a location given year, persons, and age range.\n    \"\"\"\n    if age_range == 'none':\n        if persons == 'FE':\n            variables = {'SP.POP.TOTL.FE.IN':'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.TOTL.MA.IN':'Pop'}\n        else:\n            variables = {'SP.POP.TOTL':'Pop'}\n\n    if age_range == '0004':\n        if persons == 'FE':\n            variables = {'SP.POP.0004.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.0004.MA' : 'Pop'}\n        \n    if age_range == '0014':\n        if persons == 'FE':\n            variables = {'SP.POP.0014.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.0014.MA' : 'Pop'}\n        \n    if age_range == '0509':\n        if persons == 'FE':\n            variables = {'SP.POP.0509.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.0509.MA' : 'Pop'}\n        \n    if age_range == '1014':\n        if persons == 'FE':\n            variables = {'SP.POP.1014.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.1014.MA' : 'Pop'}\n        \n    if age_range == '1519':\n        if persons == 'FE':\n            variables = {'SP.POP.1519.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.1519.MA' : 'Pop'}\n\n    if age_range == '1564':\n        if persons == 'FE':\n            variables = {'SP.POP.1564.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.1564.MA': 'Pop'}\n        \n    if age_range == '2024':\n        if persons == 'FE':\n            variables = {'SP.POP.2024.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.2024.MA' : 'Pop'}\n        \n    if age_range == '2529':\n        if persons == 'FE':\n            variables = {'SP.POP.2529.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.2529.MA' : 'Pop'}\n        \n    if age_range == '3034':\n        if persons == 'FE':\n            variables = {'SP.POP.3034.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.3034.MA' : 'Pop'}\n        \n    if age_range == '3539':\n        if persons == 'FE':\n            variables = {'SP.POP.3539.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.3539.MA' : 'Pop'}\n        \n    if age_range == '4044':\n        if persons == 'FE':\n            variables = {'SP.POP.4044.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.4044.MA' : 'Pop'}\n        \n    if age_range == '4549':\n        if persons == 'FE':\n            variables = {'SP.POP.4549.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.4549.MA' : 'Pop'}\n        \n    if age_range == '5054':\n        if persons == 'FE':\n            variables = {'SP.POP.5054.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.5054.MA' : 'Pop'}\n        \n    if age_range == '5559':\n        if persons == 'FE':\n            variables = {'SP.POP.5559.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.5559.MA' : 'Pop'}\n        \n    if age_range == '6064':\n        if persons == 'FE':\n            variables = {'SP.POP.6064.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.6064.MA' : 'Pop'}\n        \n    if age_range == '6569':\n        if persons == 'FE':\n            variables = {'SP.POP.6569.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.6569.MA' : 'Pop'}\n        \n    if age_range == '65UP':\n        if persons == 'FE':\n            variables = {'SP.POP.65UP.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.65UP.MA' : 'Pop'}\n        \n    if age_range == '7074':\n        if persons == 'FE':\n            variables = {'SP.POP.7074.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.7074.MA' : 'Pop'}\n        \n    if age_range == '7579':\n        if persons == 'FE':\n            variables = {'SP.POP.7579.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.7579.MA' : 'Pop'}\n        \n    if age_range == '80UP':\n        if persons == 'FE':\n            variables = {'SP.POP.80UP.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.80UP.MA' : 'Pop'}\n        \n    return df().loc[(df['country'] == location) & df['year'] == year]",
    "id": "690b2fc7b7694c158fb49ae0c73a0e19",
    "idx": 3,
    "time": "2021-01-28T00:20:09.610Z",
    "type": "execution"
   },
   {
    "id": "690b2fc7b7694c158fb49ae0c73a0e19",
    "time": "2021-01-28T00:20:09.785Z",
    "type": "completion"
   },
   {
    "code": "population('1998', 'FE', 'none', 'Philippines') #maybe make population fn output a string sentence such as\n                                                # 'The population for [country] in [year] was xxxxx'?",
    "id": "37a23cab134f4d7f8a94705da4a45d92",
    "idx": 5,
    "time": "2021-01-28T00:20:12.136Z",
    "type": "execution"
   },
   {
    "id": "37a23cab134f4d7f8a94705da4a45d92",
    "time": "2021-01-28T00:20:22.735Z",
    "type": "completion"
   },
   {
    "code": "df().head(50)",
    "id": "9e600b55f67e4013865c9404c97855ff",
    "idx": 2,
    "time": "2021-01-28T00:21:13.124Z",
    "type": "execution"
   },
   {
    "id": "9e600b55f67e4013865c9404c97855ff",
    "time": "2021-01-28T00:21:23.923Z",
    "type": "completion"
   },
   {
    "code": "#A1 population function\ndef population(year, persons, age_range, location):\n    \"\"\"A python function named population that will deliver information to answer the queries\n    of the following form: In [year] how many [people/males/females] aged [low] to [high] were living in [the\n    world/region/country]?\n    \n    location (str): name of country, income level, world location, etc.\n    sex (str): a string FE (female), MA (male), or all\n    age_range (str): none, 0004 (Population ages 00-04), 0014 (Population ages 0-14), etc etc\n    \n    Returns a population from wbdata of a location given year, persons, and age range.\n    \"\"\"\n    if age_range == 'none':\n        if persons == 'FE':\n            variables = {'SP.POP.TOTL.FE.IN':'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.TOTL.MA.IN':'Pop'}\n        else:\n            variables = {'SP.POP.TOTL':'Pop'}\n\n    if age_range == '0004':\n        if persons == 'FE':\n            variables = {'SP.POP.0004.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.0004.MA' : 'Pop'}\n        \n    if age_range == '0014':\n        if persons == 'FE':\n            variables = {'SP.POP.0014.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.0014.MA' : 'Pop'}\n        \n    if age_range == '0509':\n        if persons == 'FE':\n            variables = {'SP.POP.0509.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.0509.MA' : 'Pop'}\n        \n    if age_range == '1014':\n        if persons == 'FE':\n            variables = {'SP.POP.1014.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.1014.MA' : 'Pop'}\n        \n    if age_range == '1519':\n        if persons == 'FE':\n            variables = {'SP.POP.1519.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.1519.MA' : 'Pop'}\n\n    if age_range == '1564':\n        if persons == 'FE':\n            variables = {'SP.POP.1564.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.1564.MA': 'Pop'}\n        \n    if age_range == '2024':\n        if persons == 'FE':\n            variables = {'SP.POP.2024.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.2024.MA' : 'Pop'}\n        \n    if age_range == '2529':\n        if persons == 'FE':\n            variables = {'SP.POP.2529.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.2529.MA' : 'Pop'}\n        \n    if age_range == '3034':\n        if persons == 'FE':\n            variables = {'SP.POP.3034.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.3034.MA' : 'Pop'}\n        \n    if age_range == '3539':\n        if persons == 'FE':\n            variables = {'SP.POP.3539.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.3539.MA' : 'Pop'}\n        \n    if age_range == '4044':\n        if persons == 'FE':\n            variables = {'SP.POP.4044.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.4044.MA' : 'Pop'}\n        \n    if age_range == '4549':\n        if persons == 'FE':\n            variables = {'SP.POP.4549.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.4549.MA' : 'Pop'}\n        \n    if age_range == '5054':\n        if persons == 'FE':\n            variables = {'SP.POP.5054.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.5054.MA' : 'Pop'}\n        \n    if age_range == '5559':\n        if persons == 'FE':\n            variables = {'SP.POP.5559.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.5559.MA' : 'Pop'}\n        \n    if age_range == '6064':\n        if persons == 'FE':\n            variables = {'SP.POP.6064.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.6064.MA' : 'Pop'}\n        \n    if age_range == '6569':\n        if persons == 'FE':\n            variables = {'SP.POP.6569.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.6569.MA' : 'Pop'}\n        \n    if age_range == '65UP':\n        if persons == 'FE':\n            variables = {'SP.POP.65UP.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.65UP.MA' : 'Pop'}\n        \n    if age_range == '7074':\n        if persons == 'FE':\n            variables = {'SP.POP.7074.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.7074.MA' : 'Pop'}\n        \n    if age_range == '7579':\n        if persons == 'FE':\n            variables = {'SP.POP.7579.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.7579.MA' : 'Pop'}\n        \n    if age_range == '80UP':\n        if persons == 'FE':\n            variables = {'SP.POP.80UP.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.80UP.MA' : 'Pop'}\n        \n    return df().loc[(df['country'] == location) & df['year'] == year]",
    "id": "690b2fc7b7694c158fb49ae0c73a0e19",
    "idx": 3,
    "time": "2021-01-28T00:21:32.263Z",
    "type": "execution"
   },
   {
    "id": "690b2fc7b7694c158fb49ae0c73a0e19",
    "time": "2021-01-28T00:21:32.432Z",
    "type": "completion"
   },
   {
    "code": "population('1998', 'FE', 'none', 'Philippines') #maybe make population fn output a string sentence such as\n                                                # 'The population for [country] in [year] was xxxxx'?",
    "id": "37a23cab134f4d7f8a94705da4a45d92",
    "idx": 5,
    "time": "2021-01-28T00:21:35.217Z",
    "type": "execution"
   },
   {
    "id": "37a23cab134f4d7f8a94705da4a45d92",
    "time": "2021-01-28T00:21:45.890Z",
    "type": "completion"
   },
   {
    "code": "#A1 population function\ndef population(year, persons, age_range, location):\n    \"\"\"A python function named population that will deliver information to answer the queries\n    of the following form: In [year] how many [people/males/females] aged [low] to [high] were living in [the\n    world/region/country]?\n    \n    location (str): name of country, income level, world location, etc.\n    sex (str): a string FE (female), MA (male), or all\n    age_range (str): none, 0004 (Population ages 00-04), 0014 (Population ages 0-14), etc etc\n    \n    Returns a population from wbdata of a location given year, persons, and age range.\n    \"\"\"\n    if age_range == 'none':\n        if persons == 'FE':\n            variables = {'SP.POP.TOTL.FE.IN':'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.TOTL.MA.IN':'Pop'}\n        else:\n            variables = {'SP.POP.TOTL':'Pop'}\n\n    if age_range == '0004':\n        if persons == 'FE':\n            variables = {'SP.POP.0004.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.0004.MA' : 'Pop'}\n        \n    if age_range == '0014':\n        if persons == 'FE':\n            variables = {'SP.POP.0014.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.0014.MA' : 'Pop'}\n        \n    if age_range == '0509':\n        if persons == 'FE':\n            variables = {'SP.POP.0509.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.0509.MA' : 'Pop'}\n        \n    if age_range == '1014':\n        if persons == 'FE':\n            variables = {'SP.POP.1014.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.1014.MA' : 'Pop'}\n        \n    if age_range == '1519':\n        if persons == 'FE':\n            variables = {'SP.POP.1519.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.1519.MA' : 'Pop'}\n\n    if age_range == '1564':\n        if persons == 'FE':\n            variables = {'SP.POP.1564.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.1564.MA': 'Pop'}\n        \n    if age_range == '2024':\n        if persons == 'FE':\n            variables = {'SP.POP.2024.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.2024.MA' : 'Pop'}\n        \n    if age_range == '2529':\n        if persons == 'FE':\n            variables = {'SP.POP.2529.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.2529.MA' : 'Pop'}\n        \n    if age_range == '3034':\n        if persons == 'FE':\n            variables = {'SP.POP.3034.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.3034.MA' : 'Pop'}\n        \n    if age_range == '3539':\n        if persons == 'FE':\n            variables = {'SP.POP.3539.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.3539.MA' : 'Pop'}\n        \n    if age_range == '4044':\n        if persons == 'FE':\n            variables = {'SP.POP.4044.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.4044.MA' : 'Pop'}\n        \n    if age_range == '4549':\n        if persons == 'FE':\n            variables = {'SP.POP.4549.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.4549.MA' : 'Pop'}\n        \n    if age_range == '5054':\n        if persons == 'FE':\n            variables = {'SP.POP.5054.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.5054.MA' : 'Pop'}\n        \n    if age_range == '5559':\n        if persons == 'FE':\n            variables = {'SP.POP.5559.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.5559.MA' : 'Pop'}\n        \n    if age_range == '6064':\n        if persons == 'FE':\n            variables = {'SP.POP.6064.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.6064.MA' : 'Pop'}\n        \n    if age_range == '6569':\n        if persons == 'FE':\n            variables = {'SP.POP.6569.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.6569.MA' : 'Pop'}\n        \n    if age_range == '65UP':\n        if persons == 'FE':\n            variables = {'SP.POP.65UP.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.65UP.MA' : 'Pop'}\n        \n    if age_range == '7074':\n        if persons == 'FE':\n            variables = {'SP.POP.7074.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.7074.MA' : 'Pop'}\n        \n    if age_range == '7579':\n        if persons == 'FE':\n            variables = {'SP.POP.7579.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.7579.MA' : 'Pop'}\n        \n    if age_range == '80UP':\n        if persons == 'FE':\n            variables = {'SP.POP.80UP.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.80UP.MA' : 'Pop'}\n        \n    return df().loc[(df['country'] == location) & (df['year'] == year)]",
    "id": "690b2fc7b7694c158fb49ae0c73a0e19",
    "idx": 3,
    "time": "2021-01-28T00:22:05.152Z",
    "type": "execution"
   },
   {
    "id": "690b2fc7b7694c158fb49ae0c73a0e19",
    "time": "2021-01-28T00:22:05.324Z",
    "type": "completion"
   },
   {
    "code": "population('1998', 'FE', 'none', 'Philippines') #maybe make population fn output a string sentence such as\n                                                # 'The population for [country] in [year] was xxxxx'?",
    "id": "37a23cab134f4d7f8a94705da4a45d92",
    "idx": 5,
    "time": "2021-01-28T00:22:07.007Z",
    "type": "execution"
   },
   {
    "id": "37a23cab134f4d7f8a94705da4a45d92",
    "time": "2021-01-28T00:22:17.510Z",
    "type": "completion"
   },
   {
    "code": "#A1 population function\ndef population(year, persons, age_range, location):\n    \"\"\"A python function named population that will deliver information to answer the queries\n    of the following form: In [year] how many [people/males/females] aged [low] to [high] were living in [the\n    world/region/country]?\n    \n    location (str): name of country, income level, world location, etc.\n    sex (str): a string FE (female), MA (male), or all\n    age_range (str): none, 0004 (Population ages 00-04), 0014 (Population ages 0-14), etc etc\n    \n    Returns a population from wbdata of a location given year, persons, and age range.\n    \"\"\"\n    if age_range == 'none':\n        if persons == 'FE':\n            variables = {'SP.POP.TOTL.FE.IN':'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.TOTL.MA.IN':'Pop'}\n        else:\n            variables = {'SP.POP.TOTL':'Pop'}\n\n    if age_range == '0004':\n        if persons == 'FE':\n            variables = {'SP.POP.0004.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.0004.MA' : 'Pop'}\n        \n    if age_range == '0014':\n        if persons == 'FE':\n            variables = {'SP.POP.0014.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.0014.MA' : 'Pop'}\n        \n    if age_range == '0509':\n        if persons == 'FE':\n            variables = {'SP.POP.0509.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.0509.MA' : 'Pop'}\n        \n    if age_range == '1014':\n        if persons == 'FE':\n            variables = {'SP.POP.1014.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.1014.MA' : 'Pop'}\n        \n    if age_range == '1519':\n        if persons == 'FE':\n            variables = {'SP.POP.1519.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.1519.MA' : 'Pop'}\n\n    if age_range == '1564':\n        if persons == 'FE':\n            variables = {'SP.POP.1564.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.1564.MA': 'Pop'}\n        \n    if age_range == '2024':\n        if persons == 'FE':\n            variables = {'SP.POP.2024.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.2024.MA' : 'Pop'}\n        \n    if age_range == '2529':\n        if persons == 'FE':\n            variables = {'SP.POP.2529.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.2529.MA' : 'Pop'}\n        \n    if age_range == '3034':\n        if persons == 'FE':\n            variables = {'SP.POP.3034.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.3034.MA' : 'Pop'}\n        \n    if age_range == '3539':\n        if persons == 'FE':\n            variables = {'SP.POP.3539.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.3539.MA' : 'Pop'}\n        \n    if age_range == '4044':\n        if persons == 'FE':\n            variables = {'SP.POP.4044.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.4044.MA' : 'Pop'}\n        \n    if age_range == '4549':\n        if persons == 'FE':\n            variables = {'SP.POP.4549.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.4549.MA' : 'Pop'}\n        \n    if age_range == '5054':\n        if persons == 'FE':\n            variables = {'SP.POP.5054.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.5054.MA' : 'Pop'}\n        \n    if age_range == '5559':\n        if persons == 'FE':\n            variables = {'SP.POP.5559.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.5559.MA' : 'Pop'}\n        \n    if age_range == '6064':\n        if persons == 'FE':\n            variables = {'SP.POP.6064.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.6064.MA' : 'Pop'}\n        \n    if age_range == '6569':\n        if persons == 'FE':\n            variables = {'SP.POP.6569.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.6569.MA' : 'Pop'}\n        \n    if age_range == '65UP':\n        if persons == 'FE':\n            variables = {'SP.POP.65UP.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.65UP.MA' : 'Pop'}\n        \n    if age_range == '7074':\n        if persons == 'FE':\n            variables = {'SP.POP.7074.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.7074.MA' : 'Pop'}\n        \n    if age_range == '7579':\n        if persons == 'FE':\n            variables = {'SP.POP.7579.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.7579.MA' : 'Pop'}\n        \n    if age_range == '80UP':\n        if persons == 'FE':\n            variables = {'SP.POP.80UP.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.80UP.MA' : 'Pop'}\n        \n    return a2_df().loc[(df['country'] == location) & (df['year'] == year)]",
    "id": "690b2fc7b7694c158fb49ae0c73a0e19",
    "idx": 3,
    "time": "2021-01-28T00:22:52.663Z",
    "type": "execution"
   },
   {
    "id": "690b2fc7b7694c158fb49ae0c73a0e19",
    "time": "2021-01-28T00:22:52.925Z",
    "type": "completion"
   },
   {
    "code": "population('1998', 'FE', 'none', 'Philippines') #maybe make population fn output a string sentence such as\n                                                # 'The population for [country] in [year] was xxxxx'?",
    "id": "37a23cab134f4d7f8a94705da4a45d92",
    "idx": 5,
    "time": "2021-01-28T00:22:57.383Z",
    "type": "execution"
   },
   {
    "id": "37a23cab134f4d7f8a94705da4a45d92",
    "time": "2021-01-28T00:22:57.506Z",
    "type": "completion"
   },
   {
    "code": "#A2 returns a dataframe of the given populations derived from wbdata\ndef a2_df():\n    \"\"\"A function that returns a pandas DataFrame indexed by Region or Country and Year, \n    with columns giving counts of people in different age-sex groups.\n    \"\"\"\n    # Give variable for clarity\n    variable_labels = {\"SP.POP.TOTL\":\"Total Population\",\n                   \"SP.POP.TOTL.FE.IN\":\"Female Population\",\n                   \"SP.POP.TOTL.MA.IN\":\"Male Population\",\n                   \n                   \"SP.POP.0014.FE.IN\":\"Females (0-14)\",\n                   \"SP.POP.0014.MA.IN\":\"Males (0-14)\",\n                   \n                   \"SP.POP.1564.FE.IN\":\"Females (15-64)\",\n                   \"SP.POP.1564.MA.IN\":\"Males (15-64)\",\n\n                   \"SP.POP.65UP.FE.IN\":\"Females (65+)\", \n                   \"SP.POP.65UP.MA.IN\":\"Males (65+)\", \n                   \n                   \"SP.POP.0004.FE\":\"Females (0-4)\",\n                   \"SP.POP.0004.MA\":\"Males (0-4)\",\n                   \n                   \"SP.POP.0509.FE\":\"Females (5-9)\",\n                   \"SP.POP.0509.MA\":\"Males (5-9)\",\n                   \n                   \"SP.POP.1014.FE\":\"Females (10-14)\",\n                   \"SP.POP.1014.MA\":\"Males (10-14)\",\n                   \n                   \"SP.POP.1519.FE\":\"Females (15-19)\",\n                   \"SP.POP.1519.MA\":\"Males (15-19)\",\n                   \n                   \"SP.POP.2024.FE\":\"Females (20-24)\",\n                   \"SP.POP.2024.MA\":\"Males (20-24)\",\n                   \n                   \"SP.POP.2529.FE\":\"Females (25-29)\",\n                   \"SP.POP.2529.MA\":\"Males (25-29)\",\n                   \n                   \"SP.POP.3034.FE\":\"Females (30-34)\",\n                   \"SP.POP.3034.MA\":\"Males (30-34)\",\n                   \n                   \"SP.POP.3539.FE\":\"Females (35-39)\",\n                   \"SP.POP.3539.MA\":\"Males (35-39)\",\n                   \n                   \"SP.POP.4044.FE\":\"Females (40-44)\",\n                   \"SP.POP.4044.MA\":\"Males (40-44)\",\n                   \n                   \"SP.POP.4549.FE\":\"Females (45-49)\",\n                   \"SP.POP.4549.MA\":\"Males (45-49)\",\n                   \n                   \"SP.POP.5054.FE\":\"Females (50-54)\",\n                   \"SP.POP.5054.MA\":\"Males (50-54)\",\n                   \n                   \"SP.POP.5559.FE\":\"Females (55-59)\",\n                   \"SP.POP.5559.MA\":\"Males (55-59)\",\n                   \n                   \"SP.POP.6064.FE\":\"Females (60-64)\",\n                   \"SP.POP.6064.MA\":\"Males (60-64)\",\n                   \n                   \"SP.POP.6569.FE\":\"Females (65-69)\",\n                   \"SP.POP.6569.MA\":\"Males (65-69)\",\n                   \n                   \"SP.POP.7074.FE\":\"Females (70-74)\",\n                   \"SP.POP.7074.MA\":\"Males (70-74)\",\n                \n                   \"SP.POP.7579.FE\":\"Females (75-79)\",\n                   \"SP.POP.7579.MA\":\"Males (75-79)\",\n                   \n                   \"SP.POP.80UP.FE\":\"Females (80+)\",\n                   \"SP.POP.80UP.MA\":\"Males (80+)\" \n                   \n                  }\n\n    pop_df = wbdata.get_dataframe(variable_labels, country=\"\")\n\n    # Print a few years' data\n    return pop_df\n",
    "id": "74e6f5bb995947a486388e9b5c60dfbd",
    "idx": 1,
    "time": "2021-01-28T00:23:03.776Z",
    "type": "execution"
   },
   {
    "id": "74e6f5bb995947a486388e9b5c60dfbd",
    "time": "2021-01-28T00:23:03.867Z",
    "type": "completion"
   },
   {
    "code": "df().head(50)",
    "id": "9e600b55f67e4013865c9404c97855ff",
    "idx": 2,
    "time": "2021-01-28T00:23:08.724Z",
    "type": "execution"
   },
   {
    "code": "a2_df().head(50)",
    "id": "9e600b55f67e4013865c9404c97855ff",
    "idx": 2,
    "time": "2021-01-28T00:23:18.008Z",
    "type": "execution"
   },
   {
    "id": "9e600b55f67e4013865c9404c97855ff",
    "time": "2021-01-28T00:23:30.362Z",
    "type": "completion"
   },
   {
    "id": "9e600b55f67e4013865c9404c97855ff",
    "time": "2021-01-28T00:23:30.362Z",
    "type": "completion"
   },
   {
    "code": "#A1 population function\ndef population(year, persons, age_range, location):\n    \"\"\"A python function named population that will deliver information to answer the queries\n    of the following form: In [year] how many [people/males/females] aged [low] to [high] were living in [the\n    world/region/country]?\n    \n    location (str): name of country, income level, world location, etc.\n    sex (str): a string FE (female), MA (male), or all\n    age_range (str): none, 0004 (Population ages 00-04), 0014 (Population ages 0-14), etc etc\n    \n    Returns a population from wbdata of a location given year, persons, and age range.\n    \"\"\"\n    if age_range == 'none':\n        if persons == 'FE':\n            variables = {'SP.POP.TOTL.FE.IN':'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.TOTL.MA.IN':'Pop'}\n        else:\n            variables = {'SP.POP.TOTL':'Pop'}\n\n    if age_range == '0004':\n        if persons == 'FE':\n            variables = {'SP.POP.0004.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.0004.MA' : 'Pop'}\n        \n    if age_range == '0014':\n        if persons == 'FE':\n            variables = {'SP.POP.0014.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.0014.MA' : 'Pop'}\n        \n    if age_range == '0509':\n        if persons == 'FE':\n            variables = {'SP.POP.0509.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.0509.MA' : 'Pop'}\n        \n    if age_range == '1014':\n        if persons == 'FE':\n            variables = {'SP.POP.1014.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.1014.MA' : 'Pop'}\n        \n    if age_range == '1519':\n        if persons == 'FE':\n            variables = {'SP.POP.1519.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.1519.MA' : 'Pop'}\n\n    if age_range == '1564':\n        if persons == 'FE':\n            variables = {'SP.POP.1564.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.1564.MA': 'Pop'}\n        \n    if age_range == '2024':\n        if persons == 'FE':\n            variables = {'SP.POP.2024.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.2024.MA' : 'Pop'}\n        \n    if age_range == '2529':\n        if persons == 'FE':\n            variables = {'SP.POP.2529.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.2529.MA' : 'Pop'}\n        \n    if age_range == '3034':\n        if persons == 'FE':\n            variables = {'SP.POP.3034.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.3034.MA' : 'Pop'}\n        \n    if age_range == '3539':\n        if persons == 'FE':\n            variables = {'SP.POP.3539.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.3539.MA' : 'Pop'}\n        \n    if age_range == '4044':\n        if persons == 'FE':\n            variables = {'SP.POP.4044.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.4044.MA' : 'Pop'}\n        \n    if age_range == '4549':\n        if persons == 'FE':\n            variables = {'SP.POP.4549.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.4549.MA' : 'Pop'}\n        \n    if age_range == '5054':\n        if persons == 'FE':\n            variables = {'SP.POP.5054.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.5054.MA' : 'Pop'}\n        \n    if age_range == '5559':\n        if persons == 'FE':\n            variables = {'SP.POP.5559.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.5559.MA' : 'Pop'}\n        \n    if age_range == '6064':\n        if persons == 'FE':\n            variables = {'SP.POP.6064.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.6064.MA' : 'Pop'}\n        \n    if age_range == '6569':\n        if persons == 'FE':\n            variables = {'SP.POP.6569.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.6569.MA' : 'Pop'}\n        \n    if age_range == '65UP':\n        if persons == 'FE':\n            variables = {'SP.POP.65UP.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.65UP.MA' : 'Pop'}\n        \n    if age_range == '7074':\n        if persons == 'FE':\n            variables = {'SP.POP.7074.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.7074.MA' : 'Pop'}\n        \n    if age_range == '7579':\n        if persons == 'FE':\n            variables = {'SP.POP.7579.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.7579.MA' : 'Pop'}\n        \n    if age_range == '80UP':\n        if persons == 'FE':\n            variables = {'SP.POP.80UP.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.80UP.MA' : 'Pop'}\n        \n    return a2_df().loc[(df['country'] == location) & (df['year'] == year)]",
    "id": "690b2fc7b7694c158fb49ae0c73a0e19",
    "idx": 3,
    "time": "2021-01-28T00:23:42.732Z",
    "type": "execution"
   },
   {
    "id": "690b2fc7b7694c158fb49ae0c73a0e19",
    "time": "2021-01-28T00:23:42.901Z",
    "type": "completion"
   },
   {
    "code": "population('1998', 'FE', 'none', 'Philippines') #maybe make population fn output a string sentence such as\n                                                # 'The population for [country] in [year] was xxxxx'?",
    "id": "37a23cab134f4d7f8a94705da4a45d92",
    "idx": 5,
    "time": "2021-01-28T00:23:44.881Z",
    "type": "execution"
   },
   {
    "id": "37a23cab134f4d7f8a94705da4a45d92",
    "time": "2021-01-28T00:23:55.661Z",
    "type": "completion"
   },
   {
    "code": "!pip install wbdata\nimport wbdata\n!pip install cufflinks\nimport cufflinks as cf",
    "id": "6e1b5e2d638c41a892bbbe37e41a3561",
    "idx": 0,
    "time": "2021-02-01T03:56:57.597Z",
    "type": "execution"
   },
   {
    "id": "6e1b5e2d638c41a892bbbe37e41a3561",
    "time": "2021-02-01T03:57:08.018Z",
    "type": "completion"
   },
   {
    "code": "#A2 returns a dataframe of the given populations derived from wbdata\ndef a2_df():\n    \"\"\"A function that returns a pandas DataFrame indexed by Region or Country and Year, \n    with columns giving counts of people in different age-sex groups.\n    \"\"\"\n    # Give variable for clarity\n    variable_labels = {\"SP.POP.TOTL\":\"Total Population\",\n                   \"SP.POP.TOTL.FE.IN\":\"Female Population\",\n                   \"SP.POP.TOTL.MA.IN\":\"Male Population\",\n                   \n                   \"SP.POP.0014.FE.IN\":\"Females (0-14)\",\n                   \"SP.POP.0014.MA.IN\":\"Males (0-14)\",\n                   \n                   \"SP.POP.1564.FE.IN\":\"Females (15-64)\",\n                   \"SP.POP.1564.MA.IN\":\"Males (15-64)\",\n\n                   \"SP.POP.65UP.FE.IN\":\"Females (65+)\", \n                   \"SP.POP.65UP.MA.IN\":\"Males (65+)\", \n                   \n                   \"SP.POP.0004.FE\":\"Females (0-4)\",\n                   \"SP.POP.0004.MA\":\"Males (0-4)\",\n                   \n                   \"SP.POP.0509.FE\":\"Females (5-9)\",\n                   \"SP.POP.0509.MA\":\"Males (5-9)\",\n                   \n                   \"SP.POP.1014.FE\":\"Females (10-14)\",\n                   \"SP.POP.1014.MA\":\"Males (10-14)\",\n                   \n                   \"SP.POP.1519.FE\":\"Females (15-19)\",\n                   \"SP.POP.1519.MA\":\"Males (15-19)\",\n                   \n                   \"SP.POP.2024.FE\":\"Females (20-24)\",\n                   \"SP.POP.2024.MA\":\"Males (20-24)\",\n                   \n                   \"SP.POP.2529.FE\":\"Females (25-29)\",\n                   \"SP.POP.2529.MA\":\"Males (25-29)\",\n                   \n                   \"SP.POP.3034.FE\":\"Females (30-34)\",\n                   \"SP.POP.3034.MA\":\"Males (30-34)\",\n                   \n                   \"SP.POP.3539.FE\":\"Females (35-39)\",\n                   \"SP.POP.3539.MA\":\"Males (35-39)\",\n                   \n                   \"SP.POP.4044.FE\":\"Females (40-44)\",\n                   \"SP.POP.4044.MA\":\"Males (40-44)\",\n                   \n                   \"SP.POP.4549.FE\":\"Females (45-49)\",\n                   \"SP.POP.4549.MA\":\"Males (45-49)\",\n                   \n                   \"SP.POP.5054.FE\":\"Females (50-54)\",\n                   \"SP.POP.5054.MA\":\"Males (50-54)\",\n                   \n                   \"SP.POP.5559.FE\":\"Females (55-59)\",\n                   \"SP.POP.5559.MA\":\"Males (55-59)\",\n                   \n                   \"SP.POP.6064.FE\":\"Females (60-64)\",\n                   \"SP.POP.6064.MA\":\"Males (60-64)\",\n                   \n                   \"SP.POP.6569.FE\":\"Females (65-69)\",\n                   \"SP.POP.6569.MA\":\"Males (65-69)\",\n                   \n                   \"SP.POP.7074.FE\":\"Females (70-74)\",\n                   \"SP.POP.7074.MA\":\"Males (70-74)\",\n                \n                   \"SP.POP.7579.FE\":\"Females (75-79)\",\n                   \"SP.POP.7579.MA\":\"Males (75-79)\",\n                   \n                   \"SP.POP.80UP.FE\":\"Females (80+)\",\n                   \"SP.POP.80UP.MA\":\"Males (80+)\" \n                   \n                  }\n\n    pop_df = wbdata.get_dataframe(variable_labels, country=\"\")\n\n    # Print a few years' data\n    return pop_df\n",
    "id": "19fa335656b143adbb12a8098e5e4c5d",
    "idx": 1,
    "time": "2021-02-01T03:57:15.465Z",
    "type": "execution"
   },
   {
    "id": "19fa335656b143adbb12a8098e5e4c5d",
    "time": "2021-02-01T03:57:15.590Z",
    "type": "completion"
   },
   {
    "code": "a2_df().head(50)",
    "id": "6c90320a52f8409d80cbb03419bf9fa6",
    "idx": 2,
    "time": "2021-02-01T03:57:18.034Z",
    "type": "execution"
   },
   {
    "id": "6c90320a52f8409d80cbb03419bf9fa6",
    "time": "2021-02-01T03:57:29.654Z",
    "type": "completion"
   },
   {
    "code": "population('2017', 'MA','2529','Azerbaijan') / population('2017', 'all', 'none', 'Azerbaijan')",
    "id": "5d472fbaa8b5425f8f3a5cefd292adc4",
    "idx": 4,
    "time": "2021-02-01T03:58:05.519Z",
    "type": "execution"
   },
   {
    "id": "5d472fbaa8b5425f8f3a5cefd292adc4",
    "time": "2021-02-01T03:58:05.788Z",
    "type": "completion"
   },
   {
    "code": "#A1 population function\ndef population(year, persons, age_range, location):\n    \"\"\"A python function named population that will deliver information to answer the queries\n    of the following form: In [year] how many [people/males/females] aged [low] to [high] were living in [the\n    world/region/country]?\n    \n    location (str): name of country, income level, world location, etc.\n    sex (str): a string FE (female), MA (male), or all\n    age_range (str): none, 0004 (Population ages 00-04), 0014 (Population ages 0-14), etc etc\n    \n    Returns a population from wbdata of a location given year, persons, and age range.\n    \"\"\"\n    if age_range == 'none':\n        if persons == 'FE':\n            variables = {'SP.POP.TOTL.FE.IN':'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.TOTL.MA.IN':'Pop'}\n        else:\n            variables = {'SP.POP.TOTL':'Pop'}\n\n    if age_range == '0004':\n        if persons == 'FE':\n            variables = {'SP.POP.0004.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.0004.MA' : 'Pop'}\n        \n    if age_range == '0014':\n        if persons == 'FE':\n            variables = {'SP.POP.0014.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.0014.MA' : 'Pop'}\n        \n    if age_range == '0509':\n        if persons == 'FE':\n            variables = {'SP.POP.0509.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.0509.MA' : 'Pop'}\n        \n    if age_range == '1014':\n        if persons == 'FE':\n            variables = {'SP.POP.1014.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.1014.MA' : 'Pop'}\n        \n    if age_range == '1519':\n        if persons == 'FE':\n            variables = {'SP.POP.1519.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.1519.MA' : 'Pop'}\n\n    if age_range == '1564':\n        if persons == 'FE':\n            variables = {'SP.POP.1564.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.1564.MA': 'Pop'}\n        \n    if age_range == '2024':\n        if persons == 'FE':\n            variables = {'SP.POP.2024.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.2024.MA' : 'Pop'}\n        \n    if age_range == '2529':\n        if persons == 'FE':\n            variables = {'SP.POP.2529.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.2529.MA' : 'Pop'}\n        \n    if age_range == '3034':\n        if persons == 'FE':\n            variables = {'SP.POP.3034.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.3034.MA' : 'Pop'}\n        \n    if age_range == '3539':\n        if persons == 'FE':\n            variables = {'SP.POP.3539.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.3539.MA' : 'Pop'}\n        \n    if age_range == '4044':\n        if persons == 'FE':\n            variables = {'SP.POP.4044.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.4044.MA' : 'Pop'}\n        \n    if age_range == '4549':\n        if persons == 'FE':\n            variables = {'SP.POP.4549.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.4549.MA' : 'Pop'}\n        \n    if age_range == '5054':\n        if persons == 'FE':\n            variables = {'SP.POP.5054.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.5054.MA' : 'Pop'}\n        \n    if age_range == '5559':\n        if persons == 'FE':\n            variables = {'SP.POP.5559.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.5559.MA' : 'Pop'}\n        \n    if age_range == '6064':\n        if persons == 'FE':\n            variables = {'SP.POP.6064.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.6064.MA' : 'Pop'}\n        \n    if age_range == '6569':\n        if persons == 'FE':\n            variables = {'SP.POP.6569.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.6569.MA' : 'Pop'}\n        \n    if age_range == '65UP':\n        if persons == 'FE':\n            variables = {'SP.POP.65UP.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.65UP.MA' : 'Pop'}\n        \n    if age_range == '7074':\n        if persons == 'FE':\n            variables = {'SP.POP.7074.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.7074.MA' : 'Pop'}\n        \n    if age_range == '7579':\n        if persons == 'FE':\n            variables = {'SP.POP.7579.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.7579.MA' : 'Pop'}\n        \n    if age_range == '80UP':\n        if persons == 'FE':\n            variables = {'SP.POP.80UP.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.80UP.MA' : 'Pop'}\n        \n    #Converts location parameter to a wbdata 3 letter id\n    name_dict = dict()\n    for i in range(len(wbdata.search_countries(\"\"))):\n        id = wbdata.search_countries(\"\")[i][\"id\"]\n        country = wbdata.search_countries(\"\")[i][\"name\"]\n        name_dict[country] = id\n\n    countries = {name_dict.get(location)}\n    df = wbdata.get_dataframe(variables, country=countries)\n    \n    return df.loc[year][0]",
    "id": "a342c886213d4a5b8e24d01aea3838c3",
    "idx": 3,
    "time": "2021-02-01T03:59:19.670Z",
    "type": "execution"
   },
   {
    "id": "a342c886213d4a5b8e24d01aea3838c3",
    "time": "2021-02-01T03:59:19.855Z",
    "type": "completion"
   },
   {
    "code": "population('2017', 'MA','2529','Azerbaijan') / population('2017', 'all', 'none', 'Azerbaijan')",
    "id": "5d472fbaa8b5425f8f3a5cefd292adc4",
    "idx": 4,
    "time": "2021-02-01T03:59:25.931Z",
    "type": "execution"
   },
   {
    "id": "5d472fbaa8b5425f8f3a5cefd292adc4",
    "time": "2021-02-01T03:59:28.380Z",
    "type": "completion"
   },
   {
    "code": "population('1998', 'FE', 'none', 'Philippines') ",
    "id": "d6614e27f5f74f7f838cecf6d63582e4",
    "idx": 5,
    "time": "2021-02-01T03:59:29.688Z",
    "type": "execution"
   },
   {
    "id": "d6614e27f5f74f7f838cecf6d63582e4",
    "time": "2021-02-01T03:59:30.884Z",
    "type": "completion"
   },
   {
    "code": "pop_df = a2_df()\npop_df.head()",
    "id": "4aaaaaf610fa49ec8a39ac1cb26290e9",
    "idx": 2,
    "time": "2021-02-01T04:01:15.021Z",
    "type": "execution"
   },
   {
    "id": "4aaaaaf610fa49ec8a39ac1cb26290e9",
    "time": "2021-02-01T04:01:26.122Z",
    "type": "completion"
   },
   {
    "code": "#pandas manipulations example\npop_df[pop_df['country'=='Philippines']]",
    "id": "6c90320a52f8409d80cbb03419bf9fa6",
    "idx": 3,
    "time": "2021-02-01T04:02:07.161Z",
    "type": "execution"
   },
   {
    "id": "6c90320a52f8409d80cbb03419bf9fa6",
    "time": "2021-02-01T04:02:07.488Z",
    "type": "completion"
   },
   {
    "code": "#pandas manipulations example\npop_df.loc['Philippines']",
    "id": "6c90320a52f8409d80cbb03419bf9fa6",
    "idx": 3,
    "time": "2021-02-01T04:04:36.153Z",
    "type": "execution"
   },
   {
    "id": "6c90320a52f8409d80cbb03419bf9fa6",
    "time": "2021-02-01T04:04:36.428Z",
    "type": "completion"
   },
   {
    "code": "!pip install wbdata\nimport wbdata\n!pip install cufflinks\nimport cufflinks as cf",
    "id": "4dfc9651ae964cdba75e43b9ef9d3b08",
    "idx": 0,
    "time": "2021-02-01T04:08:34.946Z",
    "type": "execution"
   },
   {
    "code": "#A2 returns a dataframe of the given populations derived from wbdata\ndef a2_df():\n    \"\"\"A function that returns a pandas DataFrame indexed by Region or Country and Year, \n    with columns giving counts of people in different age-sex groups.\n    \"\"\"\n    # Give variable for clarity\n    variable_labels = {\"SP.POP.TOTL\":\"Total Population\",\n                   \"SP.POP.TOTL.FE.IN\":\"Female Population\",\n                   \"SP.POP.TOTL.MA.IN\":\"Male Population\",\n                   \n                   \"SP.POP.0014.FE.IN\":\"Females (0-14)\",\n                   \"SP.POP.0014.MA.IN\":\"Males (0-14)\",\n                   \n                   \"SP.POP.1564.FE.IN\":\"Females (15-64)\",\n                   \"SP.POP.1564.MA.IN\":\"Males (15-64)\",\n\n                   \"SP.POP.65UP.FE.IN\":\"Females (65+)\", \n                   \"SP.POP.65UP.MA.IN\":\"Males (65+)\", \n                   \n                   \"SP.POP.0004.FE\":\"Females (0-4)\",\n                   \"SP.POP.0004.MA\":\"Males (0-4)\",\n                   \n                   \"SP.POP.0509.FE\":\"Females (5-9)\",\n                   \"SP.POP.0509.MA\":\"Males (5-9)\",\n                   \n                   \"SP.POP.1014.FE\":\"Females (10-14)\",\n                   \"SP.POP.1014.MA\":\"Males (10-14)\",\n                   \n                   \"SP.POP.1519.FE\":\"Females (15-19)\",\n                   \"SP.POP.1519.MA\":\"Males (15-19)\",\n                   \n                   \"SP.POP.2024.FE\":\"Females (20-24)\",\n                   \"SP.POP.2024.MA\":\"Males (20-24)\",\n                   \n                   \"SP.POP.2529.FE\":\"Females (25-29)\",\n                   \"SP.POP.2529.MA\":\"Males (25-29)\",\n                   \n                   \"SP.POP.3034.FE\":\"Females (30-34)\",\n                   \"SP.POP.3034.MA\":\"Males (30-34)\",\n                   \n                   \"SP.POP.3539.FE\":\"Females (35-39)\",\n                   \"SP.POP.3539.MA\":\"Males (35-39)\",\n                   \n                   \"SP.POP.4044.FE\":\"Females (40-44)\",\n                   \"SP.POP.4044.MA\":\"Males (40-44)\",\n                   \n                   \"SP.POP.4549.FE\":\"Females (45-49)\",\n                   \"SP.POP.4549.MA\":\"Males (45-49)\",\n                   \n                   \"SP.POP.5054.FE\":\"Females (50-54)\",\n                   \"SP.POP.5054.MA\":\"Males (50-54)\",\n                   \n                   \"SP.POP.5559.FE\":\"Females (55-59)\",\n                   \"SP.POP.5559.MA\":\"Males (55-59)\",\n                   \n                   \"SP.POP.6064.FE\":\"Females (60-64)\",\n                   \"SP.POP.6064.MA\":\"Males (60-64)\",\n                   \n                   \"SP.POP.6569.FE\":\"Females (65-69)\",\n                   \"SP.POP.6569.MA\":\"Males (65-69)\",\n                   \n                   \"SP.POP.7074.FE\":\"Females (70-74)\",\n                   \"SP.POP.7074.MA\":\"Males (70-74)\",\n                \n                   \"SP.POP.7579.FE\":\"Females (75-79)\",\n                   \"SP.POP.7579.MA\":\"Males (75-79)\",\n                   \n                   \"SP.POP.80UP.FE\":\"Females (80+)\",\n                   \"SP.POP.80UP.MA\":\"Males (80+)\" \n                   \n                  }\n\n    pop_df = wbdata.get_dataframe(variable_labels, country=\"\")\n\n    # Print a few years' data\n    return pop_df\n",
    "id": "509cda6db24c4ba28b083bd03b08ed3b",
    "idx": 1,
    "time": "2021-02-01T04:08:34.952Z",
    "type": "execution"
   },
   {
    "code": "pop_df = a2_df()\npop_df.head()",
    "id": "1e53930b40a24df39dea87eeb04e350a",
    "idx": 2,
    "time": "2021-02-01T04:08:34.954Z",
    "type": "execution"
   },
   {
    "code": "#pandas manipulations example\npop_df.loc['P']",
    "id": "9000c267d5414119af203919238d8cf6",
    "idx": 3,
    "time": "2021-02-01T04:08:34.955Z",
    "type": "execution"
   },
   {
    "code": "#A1 population function\ndef population(year, persons, age_range, location):\n    \"\"\"A python function named population that will deliver information to answer the queries\n    of the following form: In [year] how many [people/males/females] aged [low] to [high] were living in [the\n    world/region/country]?\n    \n    location (str): name of country, income level, world location, etc.\n    sex (str): a string FE (female), MA (male), or all\n    age_range (str): none, 0004 (Population ages 00-04), 0014 (Population ages 0-14), etc etc\n    \n    Returns a population from wbdata of a location given year, persons, and age range.\n    \"\"\"\n    if age_range == 'none':\n        if persons == 'FE':\n            variables = {'SP.POP.TOTL.FE.IN':'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.TOTL.MA.IN':'Pop'}\n        else:\n            variables = {'SP.POP.TOTL':'Pop'}\n\n    if age_range == '0004':\n        if persons == 'FE':\n            variables = {'SP.POP.0004.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.0004.MA' : 'Pop'}\n        \n    if age_range == '0014':\n        if persons == 'FE':\n            variables = {'SP.POP.0014.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.0014.MA' : 'Pop'}\n        \n    if age_range == '0509':\n        if persons == 'FE':\n            variables = {'SP.POP.0509.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.0509.MA' : 'Pop'}\n        \n    if age_range == '1014':\n        if persons == 'FE':\n            variables = {'SP.POP.1014.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.1014.MA' : 'Pop'}\n        \n    if age_range == '1519':\n        if persons == 'FE':\n            variables = {'SP.POP.1519.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.1519.MA' : 'Pop'}\n\n    if age_range == '1564':\n        if persons == 'FE':\n            variables = {'SP.POP.1564.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.1564.MA': 'Pop'}\n        \n    if age_range == '2024':\n        if persons == 'FE':\n            variables = {'SP.POP.2024.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.2024.MA' : 'Pop'}\n        \n    if age_range == '2529':\n        if persons == 'FE':\n            variables = {'SP.POP.2529.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.2529.MA' : 'Pop'}\n        \n    if age_range == '3034':\n        if persons == 'FE':\n            variables = {'SP.POP.3034.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.3034.MA' : 'Pop'}\n        \n    if age_range == '3539':\n        if persons == 'FE':\n            variables = {'SP.POP.3539.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.3539.MA' : 'Pop'}\n        \n    if age_range == '4044':\n        if persons == 'FE':\n            variables = {'SP.POP.4044.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.4044.MA' : 'Pop'}\n        \n    if age_range == '4549':\n        if persons == 'FE':\n            variables = {'SP.POP.4549.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.4549.MA' : 'Pop'}\n        \n    if age_range == '5054':\n        if persons == 'FE':\n            variables = {'SP.POP.5054.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.5054.MA' : 'Pop'}\n        \n    if age_range == '5559':\n        if persons == 'FE':\n            variables = {'SP.POP.5559.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.5559.MA' : 'Pop'}\n        \n    if age_range == '6064':\n        if persons == 'FE':\n            variables = {'SP.POP.6064.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.6064.MA' : 'Pop'}\n        \n    if age_range == '6569':\n        if persons == 'FE':\n            variables = {'SP.POP.6569.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.6569.MA' : 'Pop'}\n        \n    if age_range == '65UP':\n        if persons == 'FE':\n            variables = {'SP.POP.65UP.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.65UP.MA' : 'Pop'}\n        \n    if age_range == '7074':\n        if persons == 'FE':\n            variables = {'SP.POP.7074.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.7074.MA' : 'Pop'}\n        \n    if age_range == '7579':\n        if persons == 'FE':\n            variables = {'SP.POP.7579.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.7579.MA' : 'Pop'}\n        \n    if age_range == '80UP':\n        if persons == 'FE':\n            variables = {'SP.POP.80UP.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.80UP.MA' : 'Pop'}\n        \n    #Converts location parameter to a wbdata 3 letter id\n    name_dict = dict()\n    for i in range(len(wbdata.search_countries(\"\"))):\n        id = wbdata.search_countries(\"\")[i][\"id\"]\n        country = wbdata.search_countries(\"\")[i][\"name\"]\n        name_dict[country] = id\n\n    countries = {name_dict.get(location)}\n    df = wbdata.get_dataframe(variables, country=countries)\n    \n    return df.loc[year][0]",
    "id": "504f341d9cc64f8990aa9b3afbc647db",
    "idx": 4,
    "time": "2021-02-01T04:08:34.957Z",
    "type": "execution"
   },
   {
    "code": "population('2017', 'MA','2529','Azerbaijan') / population('2017', 'all', 'none', 'Azerbaijan')",
    "id": "6375a2fe895d4ecfab6403a0bb2b46fa",
    "idx": 5,
    "time": "2021-02-01T04:08:34.958Z",
    "type": "execution"
   },
   {
    "code": "population('1998', 'FE', 'none', 'Philippines') ",
    "id": "eb8eb124f4e44f4385fef914d48b0227",
    "idx": 6,
    "time": "2021-02-01T04:08:34.960Z",
    "type": "execution"
   },
   {
    "id": "4dfc9651ae964cdba75e43b9ef9d3b08",
    "time": "2021-02-01T04:08:42.192Z",
    "type": "completion"
   },
   {
    "id": "509cda6db24c4ba28b083bd03b08ed3b",
    "time": "2021-02-01T04:08:42.343Z",
    "type": "completion"
   },
   {
    "id": "1e53930b40a24df39dea87eeb04e350a",
    "time": "2021-02-01T04:08:52.515Z",
    "type": "completion"
   },
   {
    "id": "9000c267d5414119af203919238d8cf6",
    "time": "2021-02-01T04:08:52.787Z",
    "type": "completion"
   },
   {
    "id": "504f341d9cc64f8990aa9b3afbc647db",
    "time": "2021-02-01T04:08:52.791Z",
    "type": "completion"
   },
   {
    "id": "6375a2fe895d4ecfab6403a0bb2b46fa",
    "time": "2021-02-01T04:08:52.796Z",
    "type": "completion"
   },
   {
    "id": "eb8eb124f4e44f4385fef914d48b0227",
    "time": "2021-02-01T04:08:52.797Z",
    "type": "completion"
   },
   {
    "code": "#pandas manipulations example\npop_df.loc['Philippines']",
    "id": "9000c267d5414119af203919238d8cf6",
    "idx": 3,
    "time": "2021-02-01T04:09:09.464Z",
    "type": "execution"
   },
   {
    "id": "9000c267d5414119af203919238d8cf6",
    "time": "2021-02-01T04:09:09.678Z",
    "type": "completion"
   },
   {
    "code": "#A1 population function\ndef population(year, persons, age_range, location):\n    \"\"\"A python function named population that will deliver information to answer the queries\n    of the following form: In [year] how many [people/males/females] aged [low] to [high] were living in [the\n    world/region/country]?\n    \n    location (str): name of country, income level, world location, etc.\n    sex (str): a string FE (female), MA (male), or all\n    age_range (str): none, 0004 (Population ages 00-04), 0014 (Population ages 0-14), etc etc\n    \n    Returns a population from wbdata of a location given year, persons, and age range.\n    \"\"\"\n    if age_range == 'none':\n        if persons == 'FE':\n            variables = {'SP.POP.TOTL.FE.IN':'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.TOTL.MA.IN':'Pop'}\n        else:\n            variables = {'SP.POP.TOTL':'Pop'}\n\n    if age_range == '0004':\n        if persons == 'FE':\n            variables = {'SP.POP.0004.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.0004.MA' : 'Pop'}\n        \n    if age_range == '0014':\n        if persons == 'FE':\n            variables = {'SP.POP.0014.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.0014.MA' : 'Pop'}\n        \n    if age_range == '0509':\n        if persons == 'FE':\n            variables = {'SP.POP.0509.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.0509.MA' : 'Pop'}\n        \n    if age_range == '1014':\n        if persons == 'FE':\n            variables = {'SP.POP.1014.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.1014.MA' : 'Pop'}\n        \n    if age_range == '1519':\n        if persons == 'FE':\n            variables = {'SP.POP.1519.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.1519.MA' : 'Pop'}\n\n    if age_range == '1564':\n        if persons == 'FE':\n            variables = {'SP.POP.1564.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.1564.MA': 'Pop'}\n        \n    if age_range == '2024':\n        if persons == 'FE':\n            variables = {'SP.POP.2024.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.2024.MA' : 'Pop'}\n        \n    if age_range == '2529':\n        if persons == 'FE':\n            variables = {'SP.POP.2529.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.2529.MA' : 'Pop'}\n        \n    if age_range == '3034':\n        if persons == 'FE':\n            variables = {'SP.POP.3034.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.3034.MA' : 'Pop'}\n        \n    if age_range == '3539':\n        if persons == 'FE':\n            variables = {'SP.POP.3539.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.3539.MA' : 'Pop'}\n        \n    if age_range == '4044':\n        if persons == 'FE':\n            variables = {'SP.POP.4044.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.4044.MA' : 'Pop'}\n        \n    if age_range == '4549':\n        if persons == 'FE':\n            variables = {'SP.POP.4549.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.4549.MA' : 'Pop'}\n        \n    if age_range == '5054':\n        if persons == 'FE':\n            variables = {'SP.POP.5054.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.5054.MA' : 'Pop'}\n        \n    if age_range == '5559':\n        if persons == 'FE':\n            variables = {'SP.POP.5559.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.5559.MA' : 'Pop'}\n        \n    if age_range == '6064':\n        if persons == 'FE':\n            variables = {'SP.POP.6064.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.6064.MA' : 'Pop'}\n        \n    if age_range == '6569':\n        if persons == 'FE':\n            variables = {'SP.POP.6569.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.6569.MA' : 'Pop'}\n        \n    if age_range == '65UP':\n        if persons == 'FE':\n            variables = {'SP.POP.65UP.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.65UP.MA' : 'Pop'}\n        \n    if age_range == '7074':\n        if persons == 'FE':\n            variables = {'SP.POP.7074.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.7074.MA' : 'Pop'}\n        \n    if age_range == '7579':\n        if persons == 'FE':\n            variables = {'SP.POP.7579.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.7579.MA' : 'Pop'}\n        \n    if age_range == '80UP':\n        if persons == 'FE':\n            variables = {'SP.POP.80UP.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.80UP.MA' : 'Pop'}\n        \n    #Converts location parameter to a wbdata 3 letter id\n    name_dict = dict()\n    for i in range(len(wbdata.search_countries(\"\"))):\n        id = wbdata.search_countries(\"\")[i][\"id\"]\n        country = wbdata.search_countries(\"\")[i][\"name\"]\n        name_dict[country] = id\n\n    countries = {name_dict.get(location)}\n    df = wbdata.get_dataframe(variables, country=countries)\n    \n    return df.loc[year][0]",
    "id": "504f341d9cc64f8990aa9b3afbc647db",
    "idx": 4,
    "time": "2021-02-01T04:09:11.001Z",
    "type": "execution"
   },
   {
    "id": "504f341d9cc64f8990aa9b3afbc647db",
    "time": "2021-02-01T04:09:11.199Z",
    "type": "completion"
   },
   {
    "code": "population('2017', 'MA','2529','Azerbaijan') / population('2017', 'all', 'none', 'Azerbaijan')",
    "id": "6375a2fe895d4ecfab6403a0bb2b46fa",
    "idx": 5,
    "time": "2021-02-01T04:09:11.719Z",
    "type": "execution"
   },
   {
    "code": "population('1998', 'FE', 'none', 'Philippines') ",
    "id": "eb8eb124f4e44f4385fef914d48b0227",
    "idx": 6,
    "time": "2021-02-01T04:09:12.156Z",
    "type": "execution"
   },
   {
    "id": "6375a2fe895d4ecfab6403a0bb2b46fa",
    "time": "2021-02-01T04:09:14.132Z",
    "type": "completion"
   },
   {
    "id": "eb8eb124f4e44f4385fef914d48b0227",
    "time": "2021-02-01T04:09:15.240Z",
    "type": "completion"
   },
   {
    "code": "!pip install wbdata\nimport wbdata\n!pip install cufflinks\nimport cufflinks as cf",
    "id": "840f60937a4d424fb3fbdcb8ce729421",
    "idx": 0,
    "time": "2021-02-03T22:46:49.222Z",
    "type": "execution"
   },
   {
    "code": "#A2 returns a dataframe of the given populations derived from wbdata\ndef a2_df():\n    \"\"\"A function that returns a pandas DataFrame indexed by Region or Country and Year, \n    with columns giving counts of people in different age-sex groups.\n    \"\"\"\n    # Give variable for clarity\n    variable_labels = {\"SP.POP.TOTL\":\"Total Population\",\n                   \"SP.POP.TOTL.FE.IN\":\"Female Population\",\n                   \"SP.POP.TOTL.MA.IN\":\"Male Population\",\n                   \n                   \"SP.POP.0014.FE.IN\":\"Females (0-14)\",\n                   \"SP.POP.0014.MA.IN\":\"Males (0-14)\",\n                   \n                   \"SP.POP.1564.FE.IN\":\"Females (15-64)\",\n                   \"SP.POP.1564.MA.IN\":\"Males (15-64)\",\n\n                   \"SP.POP.65UP.FE.IN\":\"Females (65+)\", \n                   \"SP.POP.65UP.MA.IN\":\"Males (65+)\", \n                   \n                   \"SP.POP.0004.FE\":\"Females (0-4)\",\n                   \"SP.POP.0004.MA\":\"Males (0-4)\",\n                   \n                   \"SP.POP.0509.FE\":\"Females (5-9)\",\n                   \"SP.POP.0509.MA\":\"Males (5-9)\",\n                   \n                   \"SP.POP.1014.FE\":\"Females (10-14)\",\n                   \"SP.POP.1014.MA\":\"Males (10-14)\",\n                   \n                   \"SP.POP.1519.FE\":\"Females (15-19)\",\n                   \"SP.POP.1519.MA\":\"Males (15-19)\",\n                   \n                   \"SP.POP.2024.FE\":\"Females (20-24)\",\n                   \"SP.POP.2024.MA\":\"Males (20-24)\",\n                   \n                   \"SP.POP.2529.FE\":\"Females (25-29)\",\n                   \"SP.POP.2529.MA\":\"Males (25-29)\",\n                   \n                   \"SP.POP.3034.FE\":\"Females (30-34)\",\n                   \"SP.POP.3034.MA\":\"Males (30-34)\",\n                   \n                   \"SP.POP.3539.FE\":\"Females (35-39)\",\n                   \"SP.POP.3539.MA\":\"Males (35-39)\",\n                   \n                   \"SP.POP.4044.FE\":\"Females (40-44)\",\n                   \"SP.POP.4044.MA\":\"Males (40-44)\",\n                   \n                   \"SP.POP.4549.FE\":\"Females (45-49)\",\n                   \"SP.POP.4549.MA\":\"Males (45-49)\",\n                   \n                   \"SP.POP.5054.FE\":\"Females (50-54)\",\n                   \"SP.POP.5054.MA\":\"Males (50-54)\",\n                   \n                   \"SP.POP.5559.FE\":\"Females (55-59)\",\n                   \"SP.POP.5559.MA\":\"Males (55-59)\",\n                   \n                   \"SP.POP.6064.FE\":\"Females (60-64)\",\n                   \"SP.POP.6064.MA\":\"Males (60-64)\",\n                   \n                   \"SP.POP.6569.FE\":\"Females (65-69)\",\n                   \"SP.POP.6569.MA\":\"Males (65-69)\",\n                   \n                   \"SP.POP.7074.FE\":\"Females (70-74)\",\n                   \"SP.POP.7074.MA\":\"Males (70-74)\",\n                \n                   \"SP.POP.7579.FE\":\"Females (75-79)\",\n                   \"SP.POP.7579.MA\":\"Males (75-79)\",\n                   \n                   \"SP.POP.80UP.FE\":\"Females (80+)\",\n                   \"SP.POP.80UP.MA\":\"Males (80+)\" \n                   \n                  }\n\n    pop_df = wbdata.get_dataframe(variable_labels, country=\"\")\n\n    # Print a few years' data\n    return pop_df\n",
    "id": "16c4640df66b46a7a4a2b618f522351e",
    "idx": 1,
    "time": "2021-02-03T22:46:49.232Z",
    "type": "execution"
   },
   {
    "code": "pop_df = a2_df()\npop_df.head()",
    "id": "8e431577ef3c4e6bae27acc661186dd1",
    "idx": 2,
    "time": "2021-02-03T22:46:49.239Z",
    "type": "execution"
   },
   {
    "code": "#pandas manipulations example\npop_df.loc['Philippines']",
    "id": "2ba545e67a0e4d7688b9ec11d4c49033",
    "idx": 3,
    "time": "2021-02-03T22:46:49.245Z",
    "type": "execution"
   },
   {
    "code": "#A1 population function\ndef population(year, persons, age_range, location):\n    \"\"\"A python function named population that will deliver information to answer the queries\n    of the following form: In [year] how many [people/males/females] aged [low] to [high] were living in [the\n    world/region/country]?\n    \n    location (str): name of country, income level, world location, etc.\n    sex (str): a string FE (female), MA (male), or all\n    age_range (str): none, 0004 (Population ages 00-04), 0014 (Population ages 0-14), etc etc\n    \n    Returns a population from wbdata of a location given year, persons, and age range.\n    \"\"\"\n    if age_range == 'none':\n        if persons == 'FE':\n            variables = {'SP.POP.TOTL.FE.IN':'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.TOTL.MA.IN':'Pop'}\n        else:\n            variables = {'SP.POP.TOTL':'Pop'}\n\n    if age_range == '0004':\n        if persons == 'FE':\n            variables = {'SP.POP.0004.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.0004.MA' : 'Pop'}\n        \n    if age_range == '0014':\n        if persons == 'FE':\n            variables = {'SP.POP.0014.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.0014.MA' : 'Pop'}\n        \n    if age_range == '0509':\n        if persons == 'FE':\n            variables = {'SP.POP.0509.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.0509.MA' : 'Pop'}\n        \n    if age_range == '1014':\n        if persons == 'FE':\n            variables = {'SP.POP.1014.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.1014.MA' : 'Pop'}\n        \n    if age_range == '1519':\n        if persons == 'FE':\n            variables = {'SP.POP.1519.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.1519.MA' : 'Pop'}\n\n    if age_range == '1564':\n        if persons == 'FE':\n            variables = {'SP.POP.1564.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.1564.MA': 'Pop'}\n        \n    if age_range == '2024':\n        if persons == 'FE':\n            variables = {'SP.POP.2024.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.2024.MA' : 'Pop'}\n        \n    if age_range == '2529':\n        if persons == 'FE':\n            variables = {'SP.POP.2529.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.2529.MA' : 'Pop'}\n        \n    if age_range == '3034':\n        if persons == 'FE':\n            variables = {'SP.POP.3034.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.3034.MA' : 'Pop'}\n        \n    if age_range == '3539':\n        if persons == 'FE':\n            variables = {'SP.POP.3539.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.3539.MA' : 'Pop'}\n        \n    if age_range == '4044':\n        if persons == 'FE':\n            variables = {'SP.POP.4044.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.4044.MA' : 'Pop'}\n        \n    if age_range == '4549':\n        if persons == 'FE':\n            variables = {'SP.POP.4549.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.4549.MA' : 'Pop'}\n        \n    if age_range == '5054':\n        if persons == 'FE':\n            variables = {'SP.POP.5054.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.5054.MA' : 'Pop'}\n        \n    if age_range == '5559':\n        if persons == 'FE':\n            variables = {'SP.POP.5559.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.5559.MA' : 'Pop'}\n        \n    if age_range == '6064':\n        if persons == 'FE':\n            variables = {'SP.POP.6064.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.6064.MA' : 'Pop'}\n        \n    if age_range == '6569':\n        if persons == 'FE':\n            variables = {'SP.POP.6569.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.6569.MA' : 'Pop'}\n        \n    if age_range == '65UP':\n        if persons == 'FE':\n            variables = {'SP.POP.65UP.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.65UP.MA' : 'Pop'}\n        \n    if age_range == '7074':\n        if persons == 'FE':\n            variables = {'SP.POP.7074.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.7074.MA' : 'Pop'}\n        \n    if age_range == '7579':\n        if persons == 'FE':\n            variables = {'SP.POP.7579.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.7579.MA' : 'Pop'}\n        \n    if age_range == '80UP':\n        if persons == 'FE':\n            variables = {'SP.POP.80UP.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.80UP.MA' : 'Pop'}\n        \n    #Converts location parameter to a wbdata 3 letter id\n    name_dict = dict()\n    for i in range(len(wbdata.search_countries(\"\"))):\n        id = wbdata.search_countries(\"\")[i][\"id\"]\n        country = wbdata.search_countries(\"\")[i][\"name\"]\n        name_dict[country] = id\n\n    countries = {name_dict.get(location)}\n    df = wbdata.get_dataframe(variables, country=countries)\n    \n    return df.loc[year][0]",
    "id": "cc71d6b99845470d88c162066f4a15e7",
    "idx": 4,
    "time": "2021-02-03T22:46:49.249Z",
    "type": "execution"
   },
   {
    "code": "population('2017', 'MA','2529','Azerbaijan') / population('2017', 'all', 'none', 'Azerbaijan')",
    "id": "aa855e802f67498b880ebd2cfe0cfad6",
    "idx": 5,
    "time": "2021-02-03T22:46:49.251Z",
    "type": "execution"
   },
   {
    "code": "population('1998', 'FE', 'none', 'Philippines') ",
    "id": "183814167c7f4539a758ea517fdc2a26",
    "idx": 6,
    "time": "2021-02-03T22:46:49.255Z",
    "type": "execution"
   },
   {
    "id": "840f60937a4d424fb3fbdcb8ce729421",
    "time": "2021-02-03T22:46:59.012Z",
    "type": "completion"
   },
   {
    "id": "16c4640df66b46a7a4a2b618f522351e",
    "time": "2021-02-03T22:46:59.015Z",
    "type": "completion"
   },
   {
    "id": "8e431577ef3c4e6bae27acc661186dd1",
    "time": "2021-02-03T22:52:32.436Z",
    "type": "completion"
   },
   {
    "id": "2ba545e67a0e4d7688b9ec11d4c49033",
    "time": "2021-02-03T22:52:32.455Z",
    "type": "completion"
   },
   {
    "id": "cc71d6b99845470d88c162066f4a15e7",
    "time": "2021-02-03T22:52:32.459Z",
    "type": "completion"
   },
   {
    "id": "aa855e802f67498b880ebd2cfe0cfad6",
    "time": "2021-02-03T22:52:32.460Z",
    "type": "completion"
   },
   {
    "id": "183814167c7f4539a758ea517fdc2a26",
    "time": "2021-02-03T22:52:32.461Z",
    "type": "completion"
   },
   {
    "code": "#A1 population function\ndef population(year, persons, age_range, location):\n    \"\"\"A python function named population that will deliver information to answer the queries\n    of the following form: In [year] how many [people/males/females] aged [low] to [high] were living in [the\n    world/region/country]?\n    \n    location (str): name of country, income level, world location, etc.\n    sex (str): a string FE (female), MA (male), or all\n    age_range (str): none, 0004 (Population ages 00-04), 0014 (Population ages 0-14), etc etc\n    \n    Returns a population from wbdata of a location given year, persons, and age range.\n    \"\"\"\n    if age_range == 'none':\n        if persons == 'FE':\n            variables = {'SP.POP.TOTL.FE.IN':'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.TOTL.MA.IN':'Pop'}\n        else:\n            variables = {'SP.POP.TOTL':'Pop'}\n\n    if age_range == '0004':\n        if persons == 'FE':\n            variables = {'SP.POP.0004.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.0004.MA' : 'Pop'}\n        \n    if age_range == '0014':\n        if persons == 'FE':\n            variables = {'SP.POP.0014.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.0014.MA' : 'Pop'}\n        \n    if age_range == '0509':\n        if persons == 'FE':\n            variables = {'SP.POP.0509.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.0509.MA' : 'Pop'}\n        \n    if age_range == '1014':\n        if persons == 'FE':\n            variables = {'SP.POP.1014.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.1014.MA' : 'Pop'}\n        \n    if age_range == '1519':\n        if persons == 'FE':\n            variables = {'SP.POP.1519.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.1519.MA' : 'Pop'}\n\n    if age_range == '1564':\n        if persons == 'FE':\n            variables = {'SP.POP.1564.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.1564.MA': 'Pop'}\n        \n    if age_range == '2024':\n        if persons == 'FE':\n            variables = {'SP.POP.2024.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.2024.MA' : 'Pop'}\n        \n    if age_range == '2529':\n        if persons == 'FE':\n            variables = {'SP.POP.2529.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.2529.MA' : 'Pop'}\n        \n    if age_range == '3034':\n        if persons == 'FE':\n            variables = {'SP.POP.3034.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.3034.MA' : 'Pop'}\n        \n    if age_range == '3539':\n        if persons == 'FE':\n            variables = {'SP.POP.3539.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.3539.MA' : 'Pop'}\n        \n    if age_range == '4044':\n        if persons == 'FE':\n            variables = {'SP.POP.4044.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.4044.MA' : 'Pop'}\n        \n    if age_range == '4549':\n        if persons == 'FE':\n            variables = {'SP.POP.4549.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.4549.MA' : 'Pop'}\n        \n    if age_range == '5054':\n        if persons == 'FE':\n            variables = {'SP.POP.5054.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.5054.MA' : 'Pop'}\n        \n    if age_range == '5559':\n        if persons == 'FE':\n            variables = {'SP.POP.5559.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.5559.MA' : 'Pop'}\n        \n    if age_range == '6064':\n        if persons == 'FE':\n            variables = {'SP.POP.6064.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.6064.MA' : 'Pop'}\n        \n    if age_range == '6569':\n        if persons == 'FE':\n            variables = {'SP.POP.6569.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.6569.MA' : 'Pop'}\n        \n    if age_range == '65UP':\n        if persons == 'FE':\n            variables = {'SP.POP.65UP.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.65UP.MA' : 'Pop'}\n        \n    if age_range == '7074':\n        if persons == 'FE':\n            variables = {'SP.POP.7074.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.7074.MA' : 'Pop'}\n        \n    if age_range == '7579':\n        if persons == 'FE':\n            variables = {'SP.POP.7579.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.7579.MA' : 'Pop'}\n        \n    if age_range == '80UP':\n        if persons == 'FE':\n            variables = {'SP.POP.80UP.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.80UP.MA' : 'Pop'}\n        \n    #Converts location parameter to a wbdata 3 letter id\n    name_dict = dict()\n    for i in range(len(wbdata.search_countries(\"\"))):\n        id = wbdata.search_countries(\"\")[i][\"id\"]\n        country = wbdata.search_countries(\"\")[i][\"name\"]\n        name_dict[country] = id\n\n    countries = {name_dict.get(location)}\n    df = wbdata.get_dataframe(variables, country=countries)\n    \n    return df.loc[year][0]",
    "id": "cc71d6b99845470d88c162066f4a15e7",
    "idx": 4,
    "time": "2021-02-03T22:52:40.143Z",
    "type": "execution"
   },
   {
    "id": "cc71d6b99845470d88c162066f4a15e7",
    "time": "2021-02-03T22:52:40.325Z",
    "type": "completion"
   },
   {
    "code": "#A1 population function\ndef population(year, persons, age_range, location):\n    \"\"\"A python function named population that will deliver information to answer the queries\n    of the following form: In [year] how many [people/males/females] aged [low] to [high] were living in [the\n    world/region/country]?\n    \n    location (str): name of country, income level, world location, etc.\n    sex (str): a string FE (female), MA (male), or all\n    age_range (str): none, 0004 (Population ages 00-04), 0014 (Population ages 0-14), etc etc\n    \n    Returns a population from wbdata of a location given year, persons, and age range.\n    \"\"\"\n    assert age_range in {'none','0004','0014','0509','1014','1519','1564','2024','2529','3034','3539',\n                        '4044','4549','5054','5559','6064','6569','65UP','7074','7579','80UP'}, \n    \"Age range not supported in wbdata. Please use one of the following: 'none','0004','0014','0509','1014','1519','1564','2024','2529','3034','3539',\n                        '4044','4549','5054','5559','6064','6569','65UP','7074','7579','80UP'\"\n    if age_range == 'none':\n        if persons == 'FE':\n            variables = {'SP.POP.TOTL.FE.IN':'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.TOTL.MA.IN':'Pop'}\n        else:\n            variables = {'SP.POP.TOTL':'Pop'}\n\n    if age_range == '0004':\n        if persons == 'FE':\n            variables = {'SP.POP.0004.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.0004.MA' : 'Pop'}\n        \n    if age_range == '0014':\n        if persons == 'FE':\n            variables = {'SP.POP.0014.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.0014.MA' : 'Pop'}\n        \n    if age_range == '0509':\n        if persons == 'FE':\n            variables = {'SP.POP.0509.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.0509.MA' : 'Pop'}\n        \n    if age_range == '1014':\n        if persons == 'FE':\n            variables = {'SP.POP.1014.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.1014.MA' : 'Pop'}\n        \n    if age_range == '1519':\n        if persons == 'FE':\n            variables = {'SP.POP.1519.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.1519.MA' : 'Pop'}\n\n    if age_range == '1564':\n        if persons == 'FE':\n            variables = {'SP.POP.1564.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.1564.MA': 'Pop'}\n        \n    if age_range == '2024':\n        if persons == 'FE':\n            variables = {'SP.POP.2024.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.2024.MA' : 'Pop'}\n        \n    if age_range == '2529':\n        if persons == 'FE':\n            variables = {'SP.POP.2529.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.2529.MA' : 'Pop'}\n        \n    if age_range == '3034':\n        if persons == 'FE':\n            variables = {'SP.POP.3034.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.3034.MA' : 'Pop'}\n        \n    if age_range == '3539':\n        if persons == 'FE':\n            variables = {'SP.POP.3539.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.3539.MA' : 'Pop'}\n        \n    if age_range == '4044':\n        if persons == 'FE':\n            variables = {'SP.POP.4044.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.4044.MA' : 'Pop'}\n        \n    if age_range == '4549':\n        if persons == 'FE':\n            variables = {'SP.POP.4549.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.4549.MA' : 'Pop'}\n        \n    if age_range == '5054':\n        if persons == 'FE':\n            variables = {'SP.POP.5054.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.5054.MA' : 'Pop'}\n        \n    if age_range == '5559':\n        if persons == 'FE':\n            variables = {'SP.POP.5559.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.5559.MA' : 'Pop'}\n        \n    if age_range == '6064':\n        if persons == 'FE':\n            variables = {'SP.POP.6064.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.6064.MA' : 'Pop'}\n        \n    if age_range == '6569':\n        if persons == 'FE':\n            variables = {'SP.POP.6569.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.6569.MA' : 'Pop'}\n        \n    if age_range == '65UP':\n        if persons == 'FE':\n            variables = {'SP.POP.65UP.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.65UP.MA' : 'Pop'}\n        \n    if age_range == '7074':\n        if persons == 'FE':\n            variables = {'SP.POP.7074.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.7074.MA' : 'Pop'}\n        \n    if age_range == '7579':\n        if persons == 'FE':\n            variables = {'SP.POP.7579.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.7579.MA' : 'Pop'}\n        \n    if age_range == '80UP':\n        if persons == 'FE':\n            variables = {'SP.POP.80UP.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.80UP.MA' : 'Pop'}\n        \n    #Converts location parameter to a wbdata 3 letter id\n    name_dict = dict()\n    for i in range(len(wbdata.search_countries(\"\"))):\n        id = wbdata.search_countries(\"\")[i][\"id\"]\n        country = wbdata.search_countries(\"\")[i][\"name\"]\n        name_dict[country] = id\n\n    countries = {name_dict.get(location)}\n    df = wbdata.get_dataframe(variables, country=countries)\n    \n    return df.loc[year][0]",
    "id": "cc71d6b99845470d88c162066f4a15e7",
    "idx": 4,
    "time": "2021-02-03T23:04:05.479Z",
    "type": "execution"
   },
   {
    "id": "cc71d6b99845470d88c162066f4a15e7",
    "time": "2021-02-03T23:04:05.662Z",
    "type": "completion"
   },
   {
    "code": "#A1 population function\ndef population(year, persons, age_range, location):\n    \"\"\"A python function named population that will deliver information to answer the queries\n    of the following form: In [year] how many [people/males/females] aged [low] to [high] were living in [the\n    world/region/country]?\n    \n    location (str): name of country, income level, world location, etc.\n    sex (str): a string FE (female), MA (male), or all\n    age_range (str): none, 0004 (Population ages 00-04), 0014 (Population ages 0-14), etc etc\n    \n    Returns a population from wbdata of a location given year, persons, and age range.\n    \"\"\"\n    assert age_range in {'none','0004','0014','0509','1014','1519','1564','2024','2529','3034','3539',\n                        '4044','4549','5054','5559','6064','6569','65UP','7074','7579','80UP'},\n    \"Age range not supported in wbdata. Please use one of the following: 'none','0004','0014','0509','1014','1519','1564','2024','2529','3034','3539',\n                        '4044','4549','5054','5559','6064','6569','65UP','7074','7579','80UP'\"\n    if age_range == 'none':\n        if persons == 'FE':\n            variables = {'SP.POP.TOTL.FE.IN':'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.TOTL.MA.IN':'Pop'}\n        else:\n            variables = {'SP.POP.TOTL':'Pop'}\n\n    if age_range == '0004':\n        if persons == 'FE':\n            variables = {'SP.POP.0004.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.0004.MA' : 'Pop'}\n        \n    if age_range == '0014':\n        if persons == 'FE':\n            variables = {'SP.POP.0014.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.0014.MA' : 'Pop'}\n        \n    if age_range == '0509':\n        if persons == 'FE':\n            variables = {'SP.POP.0509.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.0509.MA' : 'Pop'}\n        \n    if age_range == '1014':\n        if persons == 'FE':\n            variables = {'SP.POP.1014.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.1014.MA' : 'Pop'}\n        \n    if age_range == '1519':\n        if persons == 'FE':\n            variables = {'SP.POP.1519.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.1519.MA' : 'Pop'}\n\n    if age_range == '1564':\n        if persons == 'FE':\n            variables = {'SP.POP.1564.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.1564.MA': 'Pop'}\n        \n    if age_range == '2024':\n        if persons == 'FE':\n            variables = {'SP.POP.2024.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.2024.MA' : 'Pop'}\n        \n    if age_range == '2529':\n        if persons == 'FE':\n            variables = {'SP.POP.2529.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.2529.MA' : 'Pop'}\n        \n    if age_range == '3034':\n        if persons == 'FE':\n            variables = {'SP.POP.3034.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.3034.MA' : 'Pop'}\n        \n    if age_range == '3539':\n        if persons == 'FE':\n            variables = {'SP.POP.3539.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.3539.MA' : 'Pop'}\n        \n    if age_range == '4044':\n        if persons == 'FE':\n            variables = {'SP.POP.4044.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.4044.MA' : 'Pop'}\n        \n    if age_range == '4549':\n        if persons == 'FE':\n            variables = {'SP.POP.4549.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.4549.MA' : 'Pop'}\n        \n    if age_range == '5054':\n        if persons == 'FE':\n            variables = {'SP.POP.5054.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.5054.MA' : 'Pop'}\n        \n    if age_range == '5559':\n        if persons == 'FE':\n            variables = {'SP.POP.5559.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.5559.MA' : 'Pop'}\n        \n    if age_range == '6064':\n        if persons == 'FE':\n            variables = {'SP.POP.6064.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.6064.MA' : 'Pop'}\n        \n    if age_range == '6569':\n        if persons == 'FE':\n            variables = {'SP.POP.6569.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.6569.MA' : 'Pop'}\n        \n    if age_range == '65UP':\n        if persons == 'FE':\n            variables = {'SP.POP.65UP.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.65UP.MA' : 'Pop'}\n        \n    if age_range == '7074':\n        if persons == 'FE':\n            variables = {'SP.POP.7074.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.7074.MA' : 'Pop'}\n        \n    if age_range == '7579':\n        if persons == 'FE':\n            variables = {'SP.POP.7579.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.7579.MA' : 'Pop'}\n        \n    if age_range == '80UP':\n        if persons == 'FE':\n            variables = {'SP.POP.80UP.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.80UP.MA' : 'Pop'}\n        \n    #Converts location parameter to a wbdata 3 letter id\n    name_dict = dict()\n    for i in range(len(wbdata.search_countries(\"\"))):\n        id = wbdata.search_countries(\"\")[i][\"id\"]\n        country = wbdata.search_countries(\"\")[i][\"name\"]\n        name_dict[country] = id\n\n    countries = {name_dict.get(location)}\n    df = wbdata.get_dataframe(variables, country=countries)\n    \n    return df.loc[year][0]",
    "id": "cc71d6b99845470d88c162066f4a15e7",
    "idx": 4,
    "time": "2021-02-03T23:04:18.667Z",
    "type": "execution"
   },
   {
    "id": "cc71d6b99845470d88c162066f4a15e7",
    "time": "2021-02-03T23:04:18.851Z",
    "type": "completion"
   },
   {
    "code": "#A1 population function\ndef population(year, persons, age_range, location):\n    \"\"\"A python function named population that will deliver information to answer the queries\n    of the following form: In [year] how many [people/males/females] aged [low] to [high] were living in [the\n    world/region/country]?\n    \n    location (str): name of country, income level, world location, etc.\n    sex (str): a string FE (female), MA (male), or all\n    age_range (str): none, 0004 (Population ages 00-04), 0014 (Population ages 0-14), etc etc\n    \n    Returns a population from wbdata of a location given year, persons, and age range.\n    \"\"\"\n    assert age_range in {'none','0004','0014','0509','1014','1519','1564','2024','2529','3034','3539',\n                        '4044','4549','5054','5559','6064','6569','65UP','7074','7579','80UP'},\n\"Age range not supported in wbdata. Please use one of the following: 'none','0004','0014','0509','1014','1519','1564','2024','2529','3034','3539',\n                        '4044','4549','5054','5559','6064','6569','65UP','7074','7579','80UP'\"\n    if age_range == 'none':\n        if persons == 'FE':\n            variables = {'SP.POP.TOTL.FE.IN':'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.TOTL.MA.IN':'Pop'}\n        else:\n            variables = {'SP.POP.TOTL':'Pop'}\n\n    if age_range == '0004':\n        if persons == 'FE':\n            variables = {'SP.POP.0004.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.0004.MA' : 'Pop'}\n        \n    if age_range == '0014':\n        if persons == 'FE':\n            variables = {'SP.POP.0014.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.0014.MA' : 'Pop'}\n        \n    if age_range == '0509':\n        if persons == 'FE':\n            variables = {'SP.POP.0509.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.0509.MA' : 'Pop'}\n        \n    if age_range == '1014':\n        if persons == 'FE':\n            variables = {'SP.POP.1014.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.1014.MA' : 'Pop'}\n        \n    if age_range == '1519':\n        if persons == 'FE':\n            variables = {'SP.POP.1519.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.1519.MA' : 'Pop'}\n\n    if age_range == '1564':\n        if persons == 'FE':\n            variables = {'SP.POP.1564.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.1564.MA': 'Pop'}\n        \n    if age_range == '2024':\n        if persons == 'FE':\n            variables = {'SP.POP.2024.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.2024.MA' : 'Pop'}\n        \n    if age_range == '2529':\n        if persons == 'FE':\n            variables = {'SP.POP.2529.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.2529.MA' : 'Pop'}\n        \n    if age_range == '3034':\n        if persons == 'FE':\n            variables = {'SP.POP.3034.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.3034.MA' : 'Pop'}\n        \n    if age_range == '3539':\n        if persons == 'FE':\n            variables = {'SP.POP.3539.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.3539.MA' : 'Pop'}\n        \n    if age_range == '4044':\n        if persons == 'FE':\n            variables = {'SP.POP.4044.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.4044.MA' : 'Pop'}\n        \n    if age_range == '4549':\n        if persons == 'FE':\n            variables = {'SP.POP.4549.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.4549.MA' : 'Pop'}\n        \n    if age_range == '5054':\n        if persons == 'FE':\n            variables = {'SP.POP.5054.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.5054.MA' : 'Pop'}\n        \n    if age_range == '5559':\n        if persons == 'FE':\n            variables = {'SP.POP.5559.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.5559.MA' : 'Pop'}\n        \n    if age_range == '6064':\n        if persons == 'FE':\n            variables = {'SP.POP.6064.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.6064.MA' : 'Pop'}\n        \n    if age_range == '6569':\n        if persons == 'FE':\n            variables = {'SP.POP.6569.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.6569.MA' : 'Pop'}\n        \n    if age_range == '65UP':\n        if persons == 'FE':\n            variables = {'SP.POP.65UP.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.65UP.MA' : 'Pop'}\n        \n    if age_range == '7074':\n        if persons == 'FE':\n            variables = {'SP.POP.7074.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.7074.MA' : 'Pop'}\n        \n    if age_range == '7579':\n        if persons == 'FE':\n            variables = {'SP.POP.7579.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.7579.MA' : 'Pop'}\n        \n    if age_range == '80UP':\n        if persons == 'FE':\n            variables = {'SP.POP.80UP.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.80UP.MA' : 'Pop'}\n        \n    #Converts location parameter to a wbdata 3 letter id\n    name_dict = dict()\n    for i in range(len(wbdata.search_countries(\"\"))):\n        id = wbdata.search_countries(\"\")[i][\"id\"]\n        country = wbdata.search_countries(\"\")[i][\"name\"]\n        name_dict[country] = id\n\n    countries = {name_dict.get(location)}\n    df = wbdata.get_dataframe(variables, country=countries)\n    \n    return df.loc[year][0]",
    "id": "cc71d6b99845470d88c162066f4a15e7",
    "idx": 4,
    "time": "2021-02-03T23:04:30.693Z",
    "type": "execution"
   },
   {
    "id": "cc71d6b99845470d88c162066f4a15e7",
    "time": "2021-02-03T23:04:30.865Z",
    "type": "completion"
   },
   {
    "code": "#A1 population function\ndef population(year, persons, age_range, location):\n    \"\"\"A python function named population that will deliver information to answer the queries\n    of the following form: In [year] how many [people/males/females] aged [low] to [high] were living in [the\n    world/region/country]?\n    \n    location (str): name of country, income level, world location, etc.\n    sex (str): a string FE (female), MA (male), or all\n    age_range (str): none, 0004 (Population ages 00-04), 0014 (Population ages 0-14), etc etc\n    \n    Returns a population from wbdata of a location given year, persons, and age range.\n    \"\"\"\n    assert age_range in {'none','0004','0014','0509','1014','1519','1564','2024','2529','3034','3539',\n                        '4044','4549','5054','5559','6064','6569','65UP','7074','7579','80UP'}, \"Age range not supported in wbdata. Please use one of the following: 'none','0004','0014','0509','1014','1519','1564','2024','2529','3034','3539',\n                        '4044','4549','5054','5559','6064','6569','65UP','7074','7579','80UP'\"\n    if age_range == 'none':\n        if persons == 'FE':\n            variables = {'SP.POP.TOTL.FE.IN':'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.TOTL.MA.IN':'Pop'}\n        else:\n            variables = {'SP.POP.TOTL':'Pop'}\n\n    if age_range == '0004':\n        if persons == 'FE':\n            variables = {'SP.POP.0004.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.0004.MA' : 'Pop'}\n        \n    if age_range == '0014':\n        if persons == 'FE':\n            variables = {'SP.POP.0014.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.0014.MA' : 'Pop'}\n        \n    if age_range == '0509':\n        if persons == 'FE':\n            variables = {'SP.POP.0509.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.0509.MA' : 'Pop'}\n        \n    if age_range == '1014':\n        if persons == 'FE':\n            variables = {'SP.POP.1014.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.1014.MA' : 'Pop'}\n        \n    if age_range == '1519':\n        if persons == 'FE':\n            variables = {'SP.POP.1519.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.1519.MA' : 'Pop'}\n\n    if age_range == '1564':\n        if persons == 'FE':\n            variables = {'SP.POP.1564.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.1564.MA': 'Pop'}\n        \n    if age_range == '2024':\n        if persons == 'FE':\n            variables = {'SP.POP.2024.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.2024.MA' : 'Pop'}\n        \n    if age_range == '2529':\n        if persons == 'FE':\n            variables = {'SP.POP.2529.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.2529.MA' : 'Pop'}\n        \n    if age_range == '3034':\n        if persons == 'FE':\n            variables = {'SP.POP.3034.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.3034.MA' : 'Pop'}\n        \n    if age_range == '3539':\n        if persons == 'FE':\n            variables = {'SP.POP.3539.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.3539.MA' : 'Pop'}\n        \n    if age_range == '4044':\n        if persons == 'FE':\n            variables = {'SP.POP.4044.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.4044.MA' : 'Pop'}\n        \n    if age_range == '4549':\n        if persons == 'FE':\n            variables = {'SP.POP.4549.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.4549.MA' : 'Pop'}\n        \n    if age_range == '5054':\n        if persons == 'FE':\n            variables = {'SP.POP.5054.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.5054.MA' : 'Pop'}\n        \n    if age_range == '5559':\n        if persons == 'FE':\n            variables = {'SP.POP.5559.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.5559.MA' : 'Pop'}\n        \n    if age_range == '6064':\n        if persons == 'FE':\n            variables = {'SP.POP.6064.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.6064.MA' : 'Pop'}\n        \n    if age_range == '6569':\n        if persons == 'FE':\n            variables = {'SP.POP.6569.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.6569.MA' : 'Pop'}\n        \n    if age_range == '65UP':\n        if persons == 'FE':\n            variables = {'SP.POP.65UP.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.65UP.MA' : 'Pop'}\n        \n    if age_range == '7074':\n        if persons == 'FE':\n            variables = {'SP.POP.7074.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.7074.MA' : 'Pop'}\n        \n    if age_range == '7579':\n        if persons == 'FE':\n            variables = {'SP.POP.7579.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.7579.MA' : 'Pop'}\n        \n    if age_range == '80UP':\n        if persons == 'FE':\n            variables = {'SP.POP.80UP.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.80UP.MA' : 'Pop'}\n        \n    #Converts location parameter to a wbdata 3 letter id\n    name_dict = dict()\n    for i in range(len(wbdata.search_countries(\"\"))):\n        id = wbdata.search_countries(\"\")[i][\"id\"]\n        country = wbdata.search_countries(\"\")[i][\"name\"]\n        name_dict[country] = id\n\n    countries = {name_dict.get(location)}\n    df = wbdata.get_dataframe(variables, country=countries)\n    \n    return df.loc[year][0]",
    "id": "cc71d6b99845470d88c162066f4a15e7",
    "idx": 4,
    "time": "2021-02-03T23:04:47.681Z",
    "type": "execution"
   },
   {
    "id": "cc71d6b99845470d88c162066f4a15e7",
    "time": "2021-02-03T23:04:47.962Z",
    "type": "completion"
   },
   {
    "code": "#A1 population function\ndef population(year, persons, age_range, location):\n    \"\"\"A python function named population that will deliver information to answer the queries\n    of the following form: In [year] how many [people/males/females] aged [low] to [high] were living in [the\n    world/region/country]?\n    \n    location (str): name of country, income level, world location, etc.\n    sex (str): a string FE (female), MA (male), or all\n    age_range (str): none, 0004 (Population ages 00-04), 0014 (Population ages 0-14), etc etc\n    \n    Returns a population from wbdata of a location given year, persons, and age range.\n    \"\"\"\n    assert age_range in {'none','0004','0014','0509','1014','1519','1564','2024','2529','3034','3539',\n                        '4044','4549','5054','5559','6064','6569','65UP','7074','7579','80UP'}, \"Age range not supported in wbdata.\"\n    if age_range == 'none':\n        if persons == 'FE':\n            variables = {'SP.POP.TOTL.FE.IN':'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.TOTL.MA.IN':'Pop'}\n        else:\n            variables = {'SP.POP.TOTL':'Pop'}\n\n    if age_range == '0004':\n        if persons == 'FE':\n            variables = {'SP.POP.0004.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.0004.MA' : 'Pop'}\n        \n    if age_range == '0014':\n        if persons == 'FE':\n            variables = {'SP.POP.0014.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.0014.MA' : 'Pop'}\n        \n    if age_range == '0509':\n        if persons == 'FE':\n            variables = {'SP.POP.0509.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.0509.MA' : 'Pop'}\n        \n    if age_range == '1014':\n        if persons == 'FE':\n            variables = {'SP.POP.1014.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.1014.MA' : 'Pop'}\n        \n    if age_range == '1519':\n        if persons == 'FE':\n            variables = {'SP.POP.1519.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.1519.MA' : 'Pop'}\n\n    if age_range == '1564':\n        if persons == 'FE':\n            variables = {'SP.POP.1564.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.1564.MA': 'Pop'}\n        \n    if age_range == '2024':\n        if persons == 'FE':\n            variables = {'SP.POP.2024.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.2024.MA' : 'Pop'}\n        \n    if age_range == '2529':\n        if persons == 'FE':\n            variables = {'SP.POP.2529.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.2529.MA' : 'Pop'}\n        \n    if age_range == '3034':\n        if persons == 'FE':\n            variables = {'SP.POP.3034.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.3034.MA' : 'Pop'}\n        \n    if age_range == '3539':\n        if persons == 'FE':\n            variables = {'SP.POP.3539.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.3539.MA' : 'Pop'}\n        \n    if age_range == '4044':\n        if persons == 'FE':\n            variables = {'SP.POP.4044.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.4044.MA' : 'Pop'}\n        \n    if age_range == '4549':\n        if persons == 'FE':\n            variables = {'SP.POP.4549.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.4549.MA' : 'Pop'}\n        \n    if age_range == '5054':\n        if persons == 'FE':\n            variables = {'SP.POP.5054.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.5054.MA' : 'Pop'}\n        \n    if age_range == '5559':\n        if persons == 'FE':\n            variables = {'SP.POP.5559.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.5559.MA' : 'Pop'}\n        \n    if age_range == '6064':\n        if persons == 'FE':\n            variables = {'SP.POP.6064.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.6064.MA' : 'Pop'}\n        \n    if age_range == '6569':\n        if persons == 'FE':\n            variables = {'SP.POP.6569.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.6569.MA' : 'Pop'}\n        \n    if age_range == '65UP':\n        if persons == 'FE':\n            variables = {'SP.POP.65UP.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.65UP.MA' : 'Pop'}\n        \n    if age_range == '7074':\n        if persons == 'FE':\n            variables = {'SP.POP.7074.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.7074.MA' : 'Pop'}\n        \n    if age_range == '7579':\n        if persons == 'FE':\n            variables = {'SP.POP.7579.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.7579.MA' : 'Pop'}\n        \n    if age_range == '80UP':\n        if persons == 'FE':\n            variables = {'SP.POP.80UP.FE' : 'Pop'}\n        elif persons == 'MA':\n            variables = {'SP.POP.80UP.MA' : 'Pop'}\n        \n    #Converts location parameter to a wbdata 3 letter id\n    name_dict = dict()\n    for i in range(len(wbdata.search_countries(\"\"))):\n        id = wbdata.search_countries(\"\")[i][\"id\"]\n        country = wbdata.search_countries(\"\")[i][\"name\"]\n        name_dict[country] = id\n\n    countries = {name_dict.get(location)}\n    df = wbdata.get_dataframe(variables, country=countries)\n    \n    return df.loc[year][0]",
    "id": "cc71d6b99845470d88c162066f4a15e7",
    "idx": 4,
    "time": "2021-02-03T23:06:51.874Z",
    "type": "execution"
   },
   {
    "id": "cc71d6b99845470d88c162066f4a15e7",
    "time": "2021-02-03T23:06:52.053Z",
    "type": "completion"
   },
   {
    "code": "population('1998', 'FE', '1923', 'Philippines')",
    "id": "caa20f748b554b5d8aec6344d632085c",
    "idx": 7,
    "time": "2021-02-03T23:07:21.465Z",
    "type": "execution"
   },
   {
    "id": "caa20f748b554b5d8aec6344d632085c",
    "time": "2021-02-03T23:07:21.664Z",
    "type": "completion"
   },
   {
    "code": "#AssertError example\npopulation('1998', 'FE', '1923', 'Philippines')",
    "id": "caa20f748b554b5d8aec6344d632085c",
    "idx": 7,
    "time": "2021-02-03T23:07:46.182Z",
    "type": "execution"
   },
   {
    "id": "caa20f748b554b5d8aec6344d632085c",
    "time": "2021-02-03T23:07:46.386Z",
    "type": "completion"
   }
  ],
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.8.6"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 4
}
